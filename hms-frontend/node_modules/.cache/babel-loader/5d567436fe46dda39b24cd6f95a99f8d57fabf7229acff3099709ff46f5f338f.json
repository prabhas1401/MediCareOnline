{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import api from '../../services/api';\n// import Table from '../../components/Table';\n\n// const ViewAppointments = () => {\n//   const [appointments, setAppointments] = useState([]);\n\n//   useEffect(() => {\n//     api.get('/patient/appointments').then(res => setAppointments(res.data));\n//   }, []);\n\n//   const actions = (appt) => (\n//     <button className=\"btn btn-danger\" onClick={() => api.delete(`/patient/appointments/${appt.id}`).then(() => setAppointments(appointments.filter(a => a.id !== appt.id)))}>Delete</button>\n//   );\n\n//   return (\n//     <div>\n//       <h2>My Appointments</h2>\n//       <Table headers={['Doctor', 'Date', 'Status']} data={appointments} actions={actions} />\n//     </div>\n//   );\n// };\n\n// export default ViewAppointments;\n// import React, { useEffect, useState } from 'react';\n// import api from '../../services/api';\n// import Table from '../../components/Table';\n\n// const ViewAppointments = () => {\n//   const [appointments, setAppointments] = useState([]);\n\n//   useEffect(() => {\n//     api.get('/patient/appointments').then(res => setAppointments(res.data));\n//   }, []);\n\n//   const actions = (appt) => (\n//     <>\n//       {appt.status === 'pending' && (\n//         <button\n//           style={styles.button}\n//           onClick={() => api.post(`/patient/appointments/${appt.id}/pay`).then(() => {\n//             alert('Payment successful');\n//             setAppointments(appointments.map(a => a.id === appt.id ? { ...a, status: 'paid' } : a));\n//           })}\n//         >\n//           Pay\n//         </button>\n//       )}\n//       <button\n//         style={{ ...styles.button, background: '#ef4444' }}\n//         onClick={() => api.delete(`/patient/appointments/${appt.id}`).then(() => setAppointments(appointments.filter(a => a.id !== appt.id)))}\n//       >\n//         Delete\n//       </button>\n//     </>\n//   );\n\n//   return (\n//     <div style={{ padding: 30 }}>\n//       <h2 style={{ color: '#0077b6', marginBottom: 20 }}>My Appointments</h2>\n//       <Table\n//         headers={['Doctor', 'Date', 'Time', 'Purpose', 'Symptoms', 'Status']}\n//         data={appointments}\n//         actions={actions}\n//       />\n//     </div>\n//   );\n// };\n\n// const styles = {\n//   button: { padding: '6px 12px', marginRight: 8, borderRadius: 6, border: 'none', cursor: 'pointer', background: '#0077b6', color: '#fff' },\n// };\n\n// export default ViewAppointments;\n\n// import React, { useEffect, useState } from 'react';\n// import api from '../../services/api';\n// import Table from '../../components/Table';\n\n// const ViewAppointments = ({ patientId }) => {\n//   const [appointments, setAppointments] = useState([]);\n\n//   useEffect(() => {\n//     api.get(`/patient/appointments?patientId=${patientId}`).then(res => setAppointments(res.data));\n//   }, [patientId]);\n\n//   const actions = (appt) => (\n//     <>\n//       {appt.status === 'pending' && (\n//         <button\n//           style={styles.button}\n//           onClick={() => api.post(`/patient/appointments/${appt.id}/pay`).then(() => {\n//             alert('Payment successful');\n//             setAppointments(appointments.map(a => a.id === appt.id ? { ...a, status: 'paid' } : a));\n//           })}\n//         >\n//           Pay\n//         </button>\n//       )}\n//       <button\n//         style={{ ...styles.button, background: '#ef4444' }}\n//         onClick={() => api.delete(`/patient/appointments/${appt.id}`).then(() => setAppointments(appointments.filter(a => a.id !== appt.id)))}\n//       >\n//         Delete\n//       </button>\n//     </>\n//   );\n\n//   return (\n//     <div style={{ padding: 30 }}>\n//       <h2 style={{ color: '#0077b6', marginBottom: 20 }}>My Appointments</h2>\n//       <Table\n//         headers={['Doctor', 'Date', 'Time', 'Purpose', 'Symptoms', 'Status']}\n//         data={appointments}\n//         actions={actions}\n//       />\n//     </div>\n//   );\n// };\n\n// const styles = {\n//   button: { padding: '6px 12px', marginRight: 8, borderRadius: 6, border: 'none', cursor: 'pointer', background: '#0077b6', color: '#fff' },\n// };\n\n// export default ViewAppointments;\n// import React, { useEffect, useState } from 'react';\n// import api from '../../services/api';\n// import Table from '../../components/Table';\n\n// const ViewAppointments = () => {\n//   const [appointments, setAppointments] = useState([]);\n//   const patientId = JSON.parse(localStorage.getItem('user')).id;\n\n//   useEffect(() => {\n//     api.get(`/patient/appointments?patientId=${patientId}`).then(res => setAppointments(res.data));\n//   }, [patientId]);\n\n//   const handlePay = async (appt) => {\n//     try {\n//       // Create Razorpay order\n//       const res = await api.post(`/patient/appointments/${appt.id}/create-order`);\n//       const { id: order_id, amount, currency } = JSON.parse(res.data);\n\n//       const options = {\n//         key: \"YOUR_KEY_ID\",\n//         amount: amount,\n//         currency: currency,\n//         name: \"Hospital Management System\",\n//         description: \"Appointment Payment\",\n//         order_id: order_id,\n//         handler: async function (response) {\n//           await api.post(`/patient/appointments/${appt.id}/pay`, response);\n//           alert(\"Payment Successful!\");\n//           setAppointments(appointments.map(a => a.id === appt.id ? { ...a, status: 'paid' } : a));\n//         },\n//         prefill: {\n//           name: JSON.parse(localStorage.getItem('user')).name,\n//           email: JSON.parse(localStorage.getItem('user')).email,\n//         },\n//         theme: { color: \"#0077b6\" },\n//       };\n\n//       const rzp = new window.Razorpay(options);\n//       rzp.open();\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Payment failed. Try again.\");\n//     }\n//   };\n\n//   const actions = (appt) => (\n//     <>\n//       {appt.status === 'pending' && <button style={styles.button} onClick={() => handlePay(appt)}>Pay Now</button>}\n//       <button style={{ ...styles.button, background: '#ef4444' }} onClick={() => api.delete(`/patient/appointments/${appt.id}`).then(() => setAppointments(appointments.filter(a => a.id !== appt.id)))}>\n//         Delete\n//       </button>\n//     </>\n//   );\n\n//   return (\n//     <div style={{ padding: 30 }}>\n//       <h2 style={{ color: '#0077b6', marginBottom: 20 }}>My Appointments</h2>\n//       <Table\n//         headers={['Doctor', 'Date', 'Time', 'Purpose', 'Symptoms', 'Status']}\n//         data={appointments}\n//         actions={actions}\n//       />\n//     </div>\n//   );\n// };\n\n// const styles = {\n//   button: { padding: '6px 12px', marginRight: 8, borderRadius: 6, border: 'none', cursor: 'pointer', background: '#0077b6', color: '#fff' },\n// };\n\n// export default ViewAppointments;","map":{"version":3,"names":[],"sources":["C:/Users/Tharu/Downloads/hms-frontend (3)/src/pages/Patient/ViewAppointments.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\n// import api from '../../services/api';\n// import Table from '../../components/Table';\n\n// const ViewAppointments = () => {\n//   const [appointments, setAppointments] = useState([]);\n\n//   useEffect(() => {\n//     api.get('/patient/appointments').then(res => setAppointments(res.data));\n//   }, []);\n\n//   const actions = (appt) => (\n//     <button className=\"btn btn-danger\" onClick={() => api.delete(`/patient/appointments/${appt.id}`).then(() => setAppointments(appointments.filter(a => a.id !== appt.id)))}>Delete</button>\n//   );\n\n//   return (\n//     <div>\n//       <h2>My Appointments</h2>\n//       <Table headers={['Doctor', 'Date', 'Status']} data={appointments} actions={actions} />\n//     </div>\n//   );\n// };\n\n// export default ViewAppointments;\n// import React, { useEffect, useState } from 'react';\n// import api from '../../services/api';\n// import Table from '../../components/Table';\n\n// const ViewAppointments = () => {\n//   const [appointments, setAppointments] = useState([]);\n\n//   useEffect(() => {\n//     api.get('/patient/appointments').then(res => setAppointments(res.data));\n//   }, []);\n\n//   const actions = (appt) => (\n//     <>\n//       {appt.status === 'pending' && (\n//         <button\n//           style={styles.button}\n//           onClick={() => api.post(`/patient/appointments/${appt.id}/pay`).then(() => {\n//             alert('Payment successful');\n//             setAppointments(appointments.map(a => a.id === appt.id ? { ...a, status: 'paid' } : a));\n//           })}\n//         >\n//           Pay\n//         </button>\n//       )}\n//       <button\n//         style={{ ...styles.button, background: '#ef4444' }}\n//         onClick={() => api.delete(`/patient/appointments/${appt.id}`).then(() => setAppointments(appointments.filter(a => a.id !== appt.id)))}\n//       >\n//         Delete\n//       </button>\n//     </>\n//   );\n\n//   return (\n//     <div style={{ padding: 30 }}>\n//       <h2 style={{ color: '#0077b6', marginBottom: 20 }}>My Appointments</h2>\n//       <Table\n//         headers={['Doctor', 'Date', 'Time', 'Purpose', 'Symptoms', 'Status']}\n//         data={appointments}\n//         actions={actions}\n//       />\n//     </div>\n//   );\n// };\n\n// const styles = {\n//   button: { padding: '6px 12px', marginRight: 8, borderRadius: 6, border: 'none', cursor: 'pointer', background: '#0077b6', color: '#fff' },\n// };\n\n// export default ViewAppointments;\n\n// import React, { useEffect, useState } from 'react';\n// import api from '../../services/api';\n// import Table from '../../components/Table';\n\n// const ViewAppointments = ({ patientId }) => {\n//   const [appointments, setAppointments] = useState([]);\n\n//   useEffect(() => {\n//     api.get(`/patient/appointments?patientId=${patientId}`).then(res => setAppointments(res.data));\n//   }, [patientId]);\n\n//   const actions = (appt) => (\n//     <>\n//       {appt.status === 'pending' && (\n//         <button\n//           style={styles.button}\n//           onClick={() => api.post(`/patient/appointments/${appt.id}/pay`).then(() => {\n//             alert('Payment successful');\n//             setAppointments(appointments.map(a => a.id === appt.id ? { ...a, status: 'paid' } : a));\n//           })}\n//         >\n//           Pay\n//         </button>\n//       )}\n//       <button\n//         style={{ ...styles.button, background: '#ef4444' }}\n//         onClick={() => api.delete(`/patient/appointments/${appt.id}`).then(() => setAppointments(appointments.filter(a => a.id !== appt.id)))}\n//       >\n//         Delete\n//       </button>\n//     </>\n//   );\n\n//   return (\n//     <div style={{ padding: 30 }}>\n//       <h2 style={{ color: '#0077b6', marginBottom: 20 }}>My Appointments</h2>\n//       <Table\n//         headers={['Doctor', 'Date', 'Time', 'Purpose', 'Symptoms', 'Status']}\n//         data={appointments}\n//         actions={actions}\n//       />\n//     </div>\n//   );\n// };\n\n// const styles = {\n//   button: { padding: '6px 12px', marginRight: 8, borderRadius: 6, border: 'none', cursor: 'pointer', background: '#0077b6', color: '#fff' },\n// };\n\n// export default ViewAppointments;\n// import React, { useEffect, useState } from 'react';\n// import api from '../../services/api';\n// import Table from '../../components/Table';\n\n// const ViewAppointments = () => {\n//   const [appointments, setAppointments] = useState([]);\n//   const patientId = JSON.parse(localStorage.getItem('user')).id;\n\n//   useEffect(() => {\n//     api.get(`/patient/appointments?patientId=${patientId}`).then(res => setAppointments(res.data));\n//   }, [patientId]);\n\n//   const handlePay = async (appt) => {\n//     try {\n//       // Create Razorpay order\n//       const res = await api.post(`/patient/appointments/${appt.id}/create-order`);\n//       const { id: order_id, amount, currency } = JSON.parse(res.data);\n\n//       const options = {\n//         key: \"YOUR_KEY_ID\",\n//         amount: amount,\n//         currency: currency,\n//         name: \"Hospital Management System\",\n//         description: \"Appointment Payment\",\n//         order_id: order_id,\n//         handler: async function (response) {\n//           await api.post(`/patient/appointments/${appt.id}/pay`, response);\n//           alert(\"Payment Successful!\");\n//           setAppointments(appointments.map(a => a.id === appt.id ? { ...a, status: 'paid' } : a));\n//         },\n//         prefill: {\n//           name: JSON.parse(localStorage.getItem('user')).name,\n//           email: JSON.parse(localStorage.getItem('user')).email,\n//         },\n//         theme: { color: \"#0077b6\" },\n//       };\n\n//       const rzp = new window.Razorpay(options);\n//       rzp.open();\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Payment failed. Try again.\");\n//     }\n//   };\n\n//   const actions = (appt) => (\n//     <>\n//       {appt.status === 'pending' && <button style={styles.button} onClick={() => handlePay(appt)}>Pay Now</button>}\n//       <button style={{ ...styles.button, background: '#ef4444' }} onClick={() => api.delete(`/patient/appointments/${appt.id}`).then(() => setAppointments(appointments.filter(a => a.id !== appt.id)))}>\n//         Delete\n//       </button>\n//     </>\n//   );\n\n//   return (\n//     <div style={{ padding: 30 }}>\n//       <h2 style={{ color: '#0077b6', marginBottom: 20 }}>My Appointments</h2>\n//       <Table\n//         headers={['Doctor', 'Date', 'Time', 'Purpose', 'Symptoms', 'Status']}\n//         data={appointments}\n//         actions={actions}\n//       />\n//     </div>\n//   );\n// };\n\n// const styles = {\n//   button: { padding: '6px 12px', marginRight: 8, borderRadius: 6, border: 'none', cursor: 'pointer', background: '#0077b6', color: '#fff' },\n// };\n\n// export default ViewAppointments;\n\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}