{"ast":null,"code":"var _jsxFileName = \"/Users/poojav/Desktop/MediCareOnline/FrontendMediCare/src/components/PatientDashBoard.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from 'react';\n// import { patientAPI, prescriptionAPI, paymentAPI, appointmentAPI } from '../services/api';\n\n// const PatientDashboard = () => {\n//   const [reconsultModal, setReconsultModal] = useState(false);\n//   const [selectedAppointmentForReconsult, setSelectedAppointmentForReconsult] = useState(null);\n//   const [activeSection, setActiveSection] = useState('profile');\n//   const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n//   const [profile, setProfile] = useState({ userId: '', fullName: '', emailId: '', phoneNumber: '', rawPassword: '' });\n//   const [appointments, setAppointments] = useState([]);\n//   const [prescriptions, setPrescriptions] = useState([]);\n//   const [newAppointment, setNewAppointment] = useState({ \n//     specialization: '', \n//     symptoms: [], \n//     additionalSymptoms: '', \n//     preferredDate: '' \n//   });\n//   const [appointmentStats, setAppointmentStats] = useState({ upcoming: 0, pending: 0, completed: 0, cancelled: 0 });\n//   const [filters, setFilters] = useState({ appointments: 'all', prescriptions: 'all', dateRange: '' });\n//   const [search, setSearch] = useState('');\n//   const [selectedAppointment, setSelectedAppointment] = useState(null);\n//   const [selectedPrescription, setSelectedPrescription] = useState(null);\n//   const [rescheduleModal, setRescheduleModal] = useState(false);\n//   const [newDateTime, setNewDateTime] = useState('');\n//   const [refillModal, setRefillModal] = useState(false);\n//   const [followUpModal, setFollowUpModal] = useState(false);\n//   const [preferredDate, setPreferredDate] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   const [clickedButtons, setClickedButtons] = useState({});  // Added: State to track clicked buttons\n\n//   const symptomOptions = [\n//     'FEVER', 'COUGH', 'HEADACHE', 'CHEST_PAIN', 'NAUSEA', 'SHORTNESS_OF_BREATH', 'FATIGUE', 'OTHER'\n//   ];\n\n//   useEffect(() => {\n//     fetchData();\n//   }, []);\n\n//   const fetchData = async () => {\n//     setLoading(true);\n//     try {\n//       const [profileRes, appointmentsRes, prescriptionsRes] = await Promise.all([\n//         patientAPI.getProfile().catch(() => ({ data: {} })),\n//         patientAPI.getAppointments(),\n//         prescriptionAPI.getPrescriptions().catch(() => ({ data: [] }))\n//       ]);\n//       setProfile({\n//         userId: profileRes.data?.user?.userId || '',\n//         fullName: profileRes.data?.user?.fullName || '',\n//         emailId: profileRes.data?.user?.emailId || '',\n//         phoneNumber: profileRes.data?.user?.phoneNumber || '',\n//         rawPassword: ''\n//       });\n//       setAppointments(appointmentsRes.data || []);\n//       setPrescriptions(prescriptionsRes.data || []);\n//       calculateStats(appointmentsRes.data || []);\n//       console.log('Fetched appointments:', appointmentsRes.data);\n//       console.log('Fetched prescriptions:', prescriptionsRes.data);\n//     } catch (err) {\n//       console.error('Fetch error:', err);\n//       alert('Error fetching data: ' + (err.response?.data?.message || err.message));\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const calculateStats = (apps) => {\n//     const now = new Date();\n//     const upcoming = apps.filter(a => new Date(a.scheduledDateTime) > now && a.status === 'CONFIRMED').length;\n//     const pending = apps.filter(a => a.status === 'PENDING').length;\n//     const completed = apps.filter(a => a.status === 'COMPLETED').length;\n//     const cancelled = apps.filter(a => a.status === 'CANCELLED').length;\n//     setAppointmentStats({ upcoming, pending, completed, cancelled });\n//   };\n\n//   const updateProfile = async () => {\n//     console.log('Update Profile button clicked');\n//     try {\n//       const payload = {\n//         fullName: profile.fullName || null,\n//         emailId: profile.emailId || null,\n//         phoneNumber: profile.phoneNumber || null,\n//         rawPassword: profile.rawPassword || null\n//       };\n//       await patientAPI.updateProfile(payload);\n//       alert('Profile updated successfully!');\n//       fetchData();\n//     } catch (err) {\n//       console.error('Profile update error:', err);\n//       alert('Error updating profile: ' + (err.response?.data?.message || err.message));\n//     }\n//   };\n\n//   const createReconsult = async (originalAppointmentId) => {\n//     try {\n//       await appointmentAPI.createReconsult(originalAppointmentId);\n//       alert('Reconsult scheduled successfully!');\n//       fetchData();\n//       setReconsultModal(false);\n//     } catch (err) {\n//       alert('Error scheduling reconsult: ' + (err.response?.data?.message || err.message));\n//     }\n//   };\n\n//   const initiatePayment = async () => {\n//     console.log('Pay Now button clicked');\n//     try {\n//       const paymentPayload = {\n//         specialization: newAppointment.specialization,\n//         symptoms: newAppointment.symptoms.join(','),\n//         additionalSymptoms: newAppointment.additionalSymptoms,\n//         preferredDate: new Date(newAppointment.preferredDate).toISOString().split('T')[0]\n//       };\n//       const response = await paymentAPI.initiate(paymentPayload);\n//       const { orderId, amount, currency, patientId } = response.data;\n//       const options = {\n//         key: 'rzp_test_RVcBsWaU6E63ug',\n//         amount: amount,\n//         currency: currency,\n//         order_id: orderId,\n//         name: 'MediCare Appointment',\n//         description: 'Appointment Booking',\n//         handler: async (response) => {\n//           const confirmPayload = {\n//             orderId: response.razorpay_order_id,\n//             paymentId: response.razorpay_payment_id,\n//             signature: response.razorpay_signature,\n//             method: 'CARD',\n//             specialization: newAppointment.specialization,\n//             symptoms: newAppointment.symptoms,\n//             additionalSymptoms: newAppointment.additionalSymptoms,\n//             preferredDate: newAppointment.preferredDate\n//           };\n//           try {\n//             await appointmentAPI.confirmAfterPayment(confirmPayload);\n//             alert('Appointment booked successfully after payment!');\n//             setNewAppointment({ specialization: '', symptoms: [], additionalSymptoms: '', preferredDate: '' });\n//             fetchData();\n//           } catch (err) {\n//             console.error('Confirmation error:', err);\n//             alert('Payment successful, but appointment confirmation failed: ' + (err.response?.data?.message || err.message));\n//           }\n//         },\n//         prefill: {\n//           name: profile.fullName,\n//           email: profile.emailId,\n//           contact: profile.phoneNumber\n//         },\n//         theme: {\n//           color: '#3399cc'\n//         }\n//       };\n//       const rzp = new window.Razorpay(options);\n//       rzp.open();\n//     } catch (err) {\n//       console.error('Payment initiation error:', err);\n//       alert('Oops, something went wrong. Payment failed: ' + (err.response?.data?.message || err.message));\n//     }\n//   };\n\n//   const cancelAppointment = async (id) => {\n//     if (window.confirm('Are you sure you want to cancel this appointment?')) {\n//       try {\n//         await appointmentAPI.cancel(id);\n//         alert('Appointment cancelled successfully!');\n//         fetchData();\n//       } catch (err) {\n//         alert('Error cancelling appointment: ' + (err.response?.data?.message || err.message));\n//       }\n//     }\n//   };\n\n//   const rescheduleAppointment = async () => {\n//     try {\n//       await appointmentAPI.reschedule(selectedAppointment.appointmentId, { newRequestedDateTime: newDateTime });\n//       alert('Appointment rescheduled successfully!');\n//       setRescheduleModal(false);\n//       fetchData();\n//     } catch (err) {\n//       alert('Error rescheduling appointment: ' + (err.response?.data?.message || err.message));\n//     }\n//   };\n\n//   const downloadPdf = async (prescriptionId) => {\n//     console.log('Download PDF button clicked for prescription ID:', prescriptionId);\n//     try {\n//       const response = await prescriptionAPI.downloadPdf(prescriptionId);\n//       const url = window.URL.createObjectURL(new Blob([response.data]));\n//       const link = document.createElement('a');\n//       link.href = url;\n//       link.setAttribute('download', `prescription_${prescriptionId}.pdf`);\n//       document.body.appendChild(link);\n//       link.click();\n//     } catch (err) {\n//       console.error('Download PDF error:', err);\n//       alert('Error downloading PDF: ' + (err.response?.data?.message || err.message));\n//     }\n//   };\n\n//   const printPrescription = (prescription) => {\n//     console.log('Print button clicked, prescription data:', prescription);  // Added: Log to check if advice is null in frontend\n//     const printWindow = window.open('', '_blank');\n//     printWindow.document.write(`\n//       <html>\n//         <head><title>Prescription</title></head>\n//         <body>\n//           <h1>Prescription Details</h1>\n//           <p><strong>Patient:</strong> ${profile.fullName}</p>\n//           <p><strong>Diagnosis:</strong> ${prescription.diagnosis}</p>\n//           <p><strong>Medications:</strong></p>\n//           <ul>\n//             ${prescription.medicines?.map(med => `<li>${med.name} - ${med.dosage} - ${med.frequency} - ${med.duration} days</li>`).join('')}\n//           </ul>\n//           <p><strong>Advice:</strong> ${prescription.advice || 'No advice provided'}</p>\n//         </body>\n//       </html>\n//     `);\n//     printWindow.document.close();\n//     printWindow.print();\n//   };\n\n//   const requestRefill = async (prescriptionId) => {\n//     console.log('Request Refill button clicked for prescription ID:', prescriptionId);\n//     try {\n//       await prescriptionAPI.requestRefill(prescriptionId);\n//       alert('Refill requested successfully!');\n//     } catch (err) {\n//       console.error('Request Refill error:', err);\n//       alert('Error requesting refill: ' + (err.response?.data?.message || err.message));\n//     }\n//   };\n\n//   const bookFollowUp = async (prescriptionId) => {\n//     console.log('Book Follow-up Confirm button clicked for prescription ID:', prescriptionId);\n//     try {\n//       await prescriptionAPI.bookFollowUp(prescriptionId, { preferredDate });\n//       alert('Follow-up booked successfully!');\n//       setFollowUpModal(false);\n//       setPreferredDate('');\n//       fetchData();\n//     } catch (err) {\n//       console.error('Book Follow-up error:', err);\n//       alert('Error booking follow-up: ' + (err.response?.data?.message || err.message));\n//     }\n//   };\n\n//   const filteredAppointments = appointments.filter(a => {\n//     const matchesStatus = filters.appointments === 'all' || a.status.toLowerCase() === filters.appointments;\n//     const matchesSearch = a.doctor?.fullName?.toLowerCase().includes(search.toLowerCase()) || a.specialization?.toLowerCase().includes(search.toLowerCase());\n//     return matchesStatus && matchesSearch;\n//   });\n\n//   const filteredPrescriptions = prescriptions.filter(p => {\n//     const matchesStatus = filters.prescriptions === 'all' || (p.status || 'ACTIVE').toLowerCase() === filters.prescriptions;\n//     const matchesSearch = p.doctor?.fullName?.toLowerCase().includes(search.toLowerCase()) || (p.specialization || '').toLowerCase().includes(search.toLowerCase());\n//     return matchesStatus && matchesSearch;\n//   });\n\n//   console.log('Filtered prescriptions:', filteredPrescriptions);  // Added: Debug filtered data\n\n//   const tableStyle = { width: '100%', borderCollapse: 'collapse', marginTop: '1rem', fontSize: '0.9rem' };\n//   const thStyle = { border: '1px solid #ddd', padding: '12px', backgroundColor: '#f2f2f2', textAlign: 'left' };\n//   const tdStyle = { border: '1px solid #ddd', padding: '12px' };\n//   const buttonStyle = { padding: '6px 12px', margin: '2px', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '0.8rem' };\n\n//   const getSidebarButtonStyle = (isActive) => ({\n\n//     background: 'none',\n//     border: 'none',\n//     color: 'black',\n//     cursor: 'pointer',\n//     fontWeight: isActive ? 'bold' : 'normal'\n//   });\n\n//   const getActionButtonStyle = (buttonKey) => ({\n//     ...buttonStyle,\n//     background: clickedButtons[buttonKey] ? 'lightgreen' : 'green',\n//     color: 'black'\n//   });\n\n//   return (\n//     <div style={{ display: 'flex', fontFamily: 'Poppins, sans-serif', background: '#f4f8fb', minHeight: '100vh' }}>\n//       <div style={{ width: sidebarCollapsed ? '0' : '250px', background: 'white', color: 'black', padding: '1rem', transition: 'width 0.3s', overflow: 'hidden' }}>\n//         <button onClick={() => { console.log('Sidebar toggle clicked'); setSidebarCollapsed(!sidebarCollapsed); }} style={{ background: 'none', border: 'none', color: 'black', fontSize: '1.5rem', cursor: 'pointer' }}>\n//           ☰\n//         </button>\n//         <h2>Patient Menu</h2>\n//         <ul style={{ listStyle: 'none', padding: 0 }}>\n//           <li><button onClick={() => { console.log('Profile section clicked'); setActiveSection('profile'); }} style={getSidebarButtonStyle(activeSection === 'profile')}>Update Profile</button></li>\n//           <li><button onClick={() => { console.log('Book Appointment section clicked'); setActiveSection('bookAppointment'); }} style={getSidebarButtonStyle(activeSection === 'bookAppointment')}>Book Appointment</button></li>\n//           <li><button onClick={() => { console.log('Appointments section clicked'); setActiveSection('appointments'); }} style={getSidebarButtonStyle(activeSection === 'appointments')}>Your Appointments</button></li>\n//           <li><button onClick={() => { console.log('Prescriptions section clicked'); setActiveSection('prescriptions'); }} style={getSidebarButtonStyle(activeSection === 'prescriptions')}>Your Prescriptions</button></li>\n//         </ul>\n//       </div>\n//       <div style={{ flex: 1, padding: '2rem', display: 'flex', flexDirection: 'column' }}>\n//         {loading && <p>Loading...</p>}\n//         <div style={{ display: activeSection === 'profile' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1 }}>\n//           <div style={{ flex: 1 }}>\n//             <h3>Update Profile</h3>\n//             <form onSubmit={(e) => { e.preventDefault(); updateProfile(); }}>\n//               <input type=\"text\" placeholder=\"Full Name\" value={profile.fullName || ''} onChange={(e) => setProfile({ ...profile, fullName: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\n//               <input type=\"email\" placeholder=\"Email\" value={profile.emailId || ''} onChange={(e) => setProfile({ ...profile, emailId: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\n//               <input type=\"text\" placeholder=\"Phone\" value={profile.phoneNumber || ''} onChange={(e) => setProfile({ ...profile, phoneNumber: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\n//               <input type=\"password\" placeholder=\"Password\" value={profile.rawPassword || ''} onChange={(e) => setProfile({ ...profile, rawPassword: e.target.value })} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\n//               <button type=\"submit\" style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Update Profile</button>\n//             </form>\n//           </div>\n//         </div>\n//         <div style={{ display: activeSection === 'bookAppointment' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1 }}>\n//           <div style={{ flex: 1 }}>\n//             <h3>Book Appointment</h3>\n//             <form onSubmit={(e) => { e.preventDefault(); initiatePayment(); }}>\n//               <select value={newAppointment.specialization} onChange={(e) => setNewAppointment({ ...newAppointment, specialization: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }}>\n//                 <option value=\"\">Select Specialization</option>\n//                 <option value=\"CARDIOLOGIST\">Cardiologist</option>\n//                 <option value=\"ORTHOPEDIC\">Orthopedic</option>\n//                 <option value=\"DENTIST\">Dentist</option>\n//                 <option value=\"GYNAECOLOGIST\">Gynaecologist</option>\n//                 <option value=\"NEUROLOGIST\">Neurologist</option>\n//                 <option value=\"GASTROENTEROLOGIST\">Gastroenterologist</option>\n//                 <option value=\"PEDIATRICS\">Pediatrics</option>\n//                 <option value=\"RADIOLOGY\">Radiology</option>\n//                 <option value=\"GENERAL_PHYSICIAN\">General Physician</option>\n//                 <option value=\"OTOLARYNGOLOGIST_ENT\">Otolaryngologist ENT</option>\n//                 <option value=\"ENDOCRINOLOGIST\">Endocrinologist</option>\n//                 <option value=\"ONCOLOGY\">Oncology</option>\n//               </select>\n//               <label>Symptoms (Select one or more):</label>\n//               <div style={{ display: 'flex', flexWrap: 'wrap', margin: '10px 0' }}>\n//                 {symptomOptions.map(symptom => (\n//                   <label key={symptom} style={{ margin: '5px', display: 'flex', alignItems: 'center' }}>\n//                     <input\n//                       type=\"checkbox\"\n//                       value={symptom}\n//                       checked={newAppointment.symptoms.includes(symptom)}\n//                       onChange={(e) => {\n//                         const { value, checked } = e.target;\n//                         setNewAppointment(prev => ({\n//                           ...prev,\n//                           symptoms: checked ? [...prev.symptoms, value] : prev.symptoms.filter(s => s !== value)\n//                         }));\n//                       }}\n//                     />\n//                     {symptom.replace('_', ' ')}\n//                   </label>\n//                 ))}\n//               </div>\n//               <input type=\"text\" placeholder=\"Additional Symptoms\" value={newAppointment.additionalSymptoms} onChange={(e) => setNewAppointment({ ...newAppointment, additionalSymptoms: e.target.value })} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\n//               <input type=\"datetime-local\" value={newAppointment.preferredDate} onChange={(e) => setNewAppointment({ ...newAppointment, preferredDate: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\n//               <button type=\"submit\" style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Pay Now (₹500)</button>\n//             </form>\n//           </div>\n//         </div>\n//         <div style={{ display: activeSection === 'appointments' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1, flexDirection: 'column' }}>\n//           <div style={{ display: 'flex', justifyContent: 'space-around', marginBottom: '2rem' }}>\n//             <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>🗓️ Upcoming: {appointmentStats.upcoming}</div>\n//             <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>⏳ Pending: {appointmentStats.pending}</div>\n//             <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>✅ Completed: {appointmentStats.completed}</div>\n//             <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>❌ Cancelled: {appointmentStats.cancelled}</div>\n//           </div>\n//           <div style={{ display: 'flex', marginBottom: '1rem' }}>\n//             <input type=\"text\" placeholder=\"Search by doctor or department\" value={search} onChange={(e) => setSearch(e.target.value)} style={{ flex: 1, padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }} />\n//             <select value={filters.appointments} onChange={(e) => setFilters({ ...filters, appointments: e.target.value })} style={{ marginLeft: '1rem', padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }}>\n//               <option value=\"all\">All Status</option>\n//               <option value=\"pending\">Pending</option>\n//               <option value=\"confirmed\">Confirmed</option>\n//               <option value=\"completed\">Completed</option>\n//               <option value=\"cancelled\">Cancelled</option>\n//             </select>\n//           </div>\n//           <table style={tableStyle}>\n//             <thead>\n//               <tr>\n//                 <th style={thStyle}>Appointment ID</th>\n//                 {/* <th style={thStyle}>Doctor Name</th> */}\n//                 <th style={thStyle}>Specialization</th>\n//                 <th style={thStyle}>Date & Time</th>\n//                 <th style={thStyle}>Status</th>\n//                 <th style={thStyle}>Booking Date</th>\n//                 <th style={thStyle}>Actions</th>\n//               </tr>\n//             </thead>\n//             <tbody>\n//               {filteredAppointments.map((a, index) => (\n//                 <tr key={a.appointmentId} style={index % 2 === 0 ? {} : { backgroundColor: '#f9f9f9' }}>\n//                   <td style={tdStyle}>{a.appointmentId}</td>\n//                   {/* <td style={tdStyle}>{a.doctor?.fullName || 'Not Assigned'}</td> */}\n//                   <td style={tdStyle}>{a.specialization || 'N/A'}</td>\n//                   <td style={tdStyle}>{a.scheduledDateTime || a.preferredDate || 'N/A'}</td>\n//                   <td style={tdStyle}>\n//                     <span style={{\n//                       color: a.status === 'CONFIRMED' ? 'green' : a.status === 'PENDING' ? 'orange' : a.status === 'COMPLETED' ? 'blue' : 'red',\n//                       fontWeight: 'bold'\n//                     }}>\n//                       {a.status}\n//                     </span>\n//                   </td>\n//                   <td style={tdStyle}>{a.createdAt}</td>\n//                   <td style={tdStyle}>\n//                     <button style={{ ...getActionButtonStyle(`view-${a.appointmentId}`), background: '#17a2b8', color: 'white' }} onClick={() => { console.log('View Details clicked'); setSelectedAppointment(a); setClickedButtons(prev => ({ ...prev, [`view-${a.appointmentId}`]: true })); }}>View Details</button>\n//                     <button style={getActionButtonStyle(`cancel-${a.appointmentId}`)} onClick={() => { cancelAppointment(a.appointmentId); setClickedButtons(prev => ({ ...prev, [`cancel-${a.appointmentId}`]: true })); }}>Cancel</button>\n//                     {a.status === 'COMPLETED' && (\n//                       <button style={getActionButtonStyle(`reconsult-${a.appointmentId}`)} onClick={() => { setSelectedAppointmentForReconsult(a); setReconsultModal(true); setClickedButtons(prev => ({ ...prev, [`reconsult-${a.appointmentId}`]: true })); }}>Schedule Reconsult</button>\n//                     )}\n//                   </td>\n//                 </tr>\n//               ))}\n//             </tbody>\n//           </table>\n//           {selectedAppointment && (\n//             <div style={{ marginTop: '2rem', padding: '1rem', background: '#f8f9fa', borderRadius: '8px' }}>\n//               <h4>Appointment Details</h4>\n//               <p><strong>Appointment ID:</strong> {selectedAppointment.appointmentId}</p>\n//               <p><strong>Doctor:</strong> {selectedAppointment.doctor?.fullName}</p>\n//               <p><strong>Specialization:</strong> {selectedAppointment.specialization}</p>\n//               <p><strong>Status:</strong> {selectedAppointment.status}</p>\n//               <p><strong>Scheduled Date/Time:</strong> {selectedAppointment.scheduledDateTime}</p>\n//               <p><strong>Symptoms:</strong> {selectedAppointment.symptoms}</p>\n//               <p><strong>Additional Symptoms:</strong> {selectedAppointment.additionalSymptoms}</p>\n//               <p><strong>Preferred Date:</strong> {selectedAppointment.preferredDate}</p>\n//               <p><strong>Fee:</strong> ₹{selectedAppointment.fee}</p>\n//               <p><strong>Meeting Link:</strong> <a href={selectedAppointment.meetingLink} target=\"_blank\" rel=\"noopener noreferrer\">{selectedAppointment.meetingLink}</a></p>\n//             </div>\n//           )}\n//         </div>\n//         <div style={{ display: activeSection === 'prescriptions' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1, flexDirection: 'column' }}>\n//           <div style={{ display: 'flex', marginBottom: '1rem' }}>\n//             <input type=\"text\" placeholder=\"Search by doctor or department\" value={search} onChange={(e) => setSearch(e.target.value)} style={{ flex: 1, padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }} />\n//             <select value={filters.prescriptions} onChange={(e) => setFilters({ ...filters, prescriptions: e.target.value })} style={{ marginLeft: '1rem', padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }}>\n//               <option value=\"all\">All Status</option>\n//               <option value=\"active\">Active</option>\n//               <option value=\"expired\">Expired</option>\n//             </select>\n//             <button onClick={fetchData} style={{ ...buttonStyle, background: '#28a745', color: 'white', marginLeft: '1rem' }}>Refresh</button>\n//           </div>\n//           <table style={tableStyle}>\n//             <thead>\n//               <tr>\n//                 <th style={thStyle}>Prescription ID</th>\n//                 {/* <th style={thStyle}>Doctor Name</th>\n//                 <th style={thStyle}>Specialization</th>\n//                 <th style={thStyle}>Appointment Date</th> */}\n//                 <th style={thStyle}>Prescription Date</th>\n//                 <th style={thStyle}>Status</th>\n//                 <th style={thStyle}>Actions</th>\n//               </tr>\n//             </thead>\n//             <tbody>\n//               {(() => {\n//                 console.log('Filtered prescriptions data:', filteredPrescriptions);\n//                 return filteredPrescriptions.length > 0 ? filteredPrescriptions.map((p, index) => (\n//                   <tr key={p.prescriptionId} style={index % 2 === 0 ? {} : { backgroundColor: '#f9f9f9' }}>\n//                     <td style={tdStyle}>{p.prescriptionId}</td>\n//                     {/* <td style={tdStyle}>{p.doctor?.fullName || p.doctorName || 'Not Assigned'}</td>\n//                     <td style={tdStyle}>{p.doctor?.specialization || p.specialization || 'N/A'}</td>\n//                     <td style={tdStyle}>{p.appointmentDate || 'N/A'}</td> */}\n//                     <td style={tdStyle}>{p.issuedAt}</td>\n//                     <td style={tdStyle}>\n//                       <span style={{ color: (p.status || 'ACTIVE') === 'ACTIVE' ? 'green' : 'red', fontWeight: 'bold' }}>\n//                         {p.status || 'ACTIVE'}\n//                       </span>\n//                     </td>\n//                     <td style={tdStyle}>\n//                       <button style={{ ...getActionButtonStyle(`view-${p.prescriptionId}`), background: '#17a2b8', color: 'white' }} onClick={() => { console.log('View Prescription clicked'); setSelectedPrescription(p); setClickedButtons(prev => ({ ...prev, [`view-${p.prescriptionId}`]: true })); }}>View</button>\n//                       <button style={getActionButtonStyle(`download-${p.prescriptionId}`)} onClick={() => { downloadPdf(p.prescriptionId); setClickedButtons(prev => ({ ...prev, [`download-${p.prescriptionId}`]: true })); }}>Download PDF</button>\n//                       <button style={getActionButtonStyle(`print-${p.prescriptionId}`)} onClick={() => { printPrescription(p); setClickedButtons(prev => ({ ...prev, [`print-${p.prescriptionId}`]: true })); }}>Print</button>\n//                       <button style={getActionButtonStyle(`refill-${p.prescriptionId}`)} onClick={() => { requestRefill(p.prescriptionId); setClickedButtons(prev => ({ ...prev, [`refill-${p.prescriptionId}`]: true })); }}>Request Refill</button>\n//                       <button style={getActionButtonStyle(`followup-${p.prescriptionId}`)} onClick={() => { console.log('Book Follow-up clicked'); setSelectedPrescription(p); setFollowUpModal(true); setClickedButtons(prev => ({ ...prev, [`followup-${p.prescriptionId}`]: true })); }}>Book Follow-up</button>\n//                     </td>\n//                   </tr>\n//                 )) : (\n//                   <tr>\n//                     <td colSpan=\"7\" style={{ textAlign: 'center', padding: '20px' }}>No prescriptions found. Try refreshing or check if prescriptions have been added.</td>\n//                   </tr>\n//                 );\n//               })()}\n//             </tbody>\n//           </table>\n//           {selectedPrescription && (\n//             <div style={{ marginTop: '2rem', padding: '1rem', background: '#f8f9fa', borderRadius: '8px' }}>\n//               <h4>Prescription Details</h4>\n//               <p><strong>Patient:</strong> {profile.fullName} (ID: {profile.userId})</p>\n//               <p><strong>Diagnosis:</strong> {selectedPrescription.diagnosis}</p>\n//               <p><strong>Medications:</strong></p>\n//               <ul>\n//                 {selectedPrescription.medicines?.length > 0 ? selectedPrescription.medicines.map((med, idx) => (\n//                   <li key={idx}>{med.name} - {med.dosage} - {med.frequency} - {med.duration} days - Notes: {med.notes}</li>\n//                 )) : <li>No medications listed.</li>}\n//               </ul>\n//               <p><strong>Advice:</strong> {selectedPrescription.advice}</p>\n//             </div>\n//           )}\n//         </div>\n//         {reconsultModal && (\n//           <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', zIndex: 1000 }}>\n//             <h3>Schedule Reconsult</h3>\n//             <p>Appointment ID: {selectedAppointmentForReconsult?.appointmentId}</p>\n//             <p>Doctor: {selectedAppointmentForReconsult?.doctor?.fullName}</p>\n//             <p>This will create a new reconsult request for this completed appointment.</p>\n//             <button onClick={() => createReconsult(selectedAppointmentForReconsult.appointmentId)} style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Confirm</button>\n//             <button onClick={() => setReconsultModal(false)} style={{ ...buttonStyle, background: '#ccc', color: 'black' }}>Cancel</button>\n//           </div>\n//         )}\n//         {rescheduleModal && (\n//           <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', zIndex: 1000 }}>\n//             <h3>Reschedule Appointment</h3>\n//             <p>Doctor: {selectedAppointment?.doctor?.fullName}</p>\n//             <p>Current Date/Time: {selectedAppointment?.scheduledDateTime}</p>\n//             <input type=\"datetime-local\" value={newDateTime} onChange={(e) => setNewDateTime(e.target.value)} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\n//             <button onClick={rescheduleAppointment} style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Confirm</button>\n//             <button onClick={() => { console.log('Reschedule Cancel clicked'); setRescheduleModal(false); }} style={{ ...buttonStyle, background: '#ccc', color: 'black' }}>Cancel</button>\n//           </div>\n//         )}\n//         {followUpModal && (\n//           <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', zIndex: 1000 }}>\n//             <h3>Book Follow-up</h3>\n//             <p>Prescription ID: {selectedPrescription?.prescriptionId}</p>\n//             <input type=\"datetime-local\" value={preferredDate} onChange={(e) => setPreferredDate(e.target.value)} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\n//             <button onClick={() => bookFollowUp(selectedPrescription.prescriptionId)} style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Confirm</button>\n//             <button onClick={() => { console.log('Follow-up Cancel clicked'); setFollowUpModal(false); }} style={{ ...buttonStyle, background: '#ccc', color: 'black' }}>Cancel</button>\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default PatientDashboard;\n\nimport React, { useState, useEffect } from 'react';\nimport { patientAPI, prescriptionAPI, paymentAPI, appointmentAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PatientDashboard = () => {\n  _s();\n  var _selectedPrescription, _selectedAppointmentF, _selectedAppointment$;\n  const [reconsultModal, setReconsultModal] = useState(false);\n  const [selectedAppointmentForReconsult, setSelectedAppointmentForReconsult] = useState(null);\n  const [activeSection, setActiveSection] = useState('profile');\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [profile, setProfile] = useState({\n    userId: '',\n    fullName: '',\n    emailId: '',\n    phoneNumber: '',\n    rawPassword: ''\n  });\n  const [appointments, setAppointments] = useState([]);\n  const [prescriptions, setPrescriptions] = useState([]);\n  const [newAppointment, setNewAppointment] = useState({\n    specialization: '',\n    symptoms: [],\n    additionalSymptoms: '',\n    preferredDate: ''\n  });\n  const [appointmentStats, setAppointmentStats] = useState({\n    upcoming: 0,\n    pending: 0,\n    completed: 0,\n    cancelled: 0\n  });\n  const [filters, setFilters] = useState({\n    appointments: 'all',\n    prescriptions: 'all',\n    dateRange: ''\n  });\n  const [search, setSearch] = useState('');\n  const [selectedAppointment, setSelectedAppointment] = useState(null);\n  const [selectedPrescription, setSelectedPrescription] = useState(null);\n  const [rescheduleModal, setRescheduleModal] = useState(false);\n  const [newDateTime, setNewDateTime] = useState('');\n  const [refillModal, setRefillModal] = useState(false);\n  const [followUpModal, setFollowUpModal] = useState(false);\n  const [preferredDate, setPreferredDate] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [clickedButtons, setClickedButtons] = useState({}); // Added: State to track clicked buttons\n\n  const symptomOptions = ['FEVER', 'COUGH', 'HEADACHE', 'CHEST_PAIN', 'NAUSEA', 'SHORTNESS_OF_BREATH', 'FATIGUE', 'OTHER'];\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      var _profileRes$data, _profileRes$data$user, _profileRes$data2, _profileRes$data2$use, _profileRes$data3, _profileRes$data3$use, _profileRes$data4, _profileRes$data4$use;\n      const [profileRes, appointmentsRes, prescriptionsRes] = await Promise.all([patientAPI.getProfile().catch(() => ({\n        data: {}\n      })), patientAPI.getAppointments(), prescriptionAPI.getPrescriptions().catch(() => ({\n        data: []\n      }))]);\n      setProfile({\n        userId: ((_profileRes$data = profileRes.data) === null || _profileRes$data === void 0 ? void 0 : (_profileRes$data$user = _profileRes$data.user) === null || _profileRes$data$user === void 0 ? void 0 : _profileRes$data$user.userId) || '',\n        fullName: ((_profileRes$data2 = profileRes.data) === null || _profileRes$data2 === void 0 ? void 0 : (_profileRes$data2$use = _profileRes$data2.user) === null || _profileRes$data2$use === void 0 ? void 0 : _profileRes$data2$use.fullName) || '',\n        emailId: ((_profileRes$data3 = profileRes.data) === null || _profileRes$data3 === void 0 ? void 0 : (_profileRes$data3$use = _profileRes$data3.user) === null || _profileRes$data3$use === void 0 ? void 0 : _profileRes$data3$use.emailId) || '',\n        phoneNumber: ((_profileRes$data4 = profileRes.data) === null || _profileRes$data4 === void 0 ? void 0 : (_profileRes$data4$use = _profileRes$data4.user) === null || _profileRes$data4$use === void 0 ? void 0 : _profileRes$data4$use.phoneNumber) || '',\n        rawPassword: ''\n      });\n      setAppointments(appointmentsRes.data || []);\n      setPrescriptions(prescriptionsRes.data || []);\n      calculateStats(appointmentsRes.data || []);\n      console.log('Fetched appointments:', appointmentsRes.data);\n      console.log('Fetched prescriptions:', prescriptionsRes.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Fetch error:', err);\n      alert('Error fetching data: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n  const calculateStats = apps => {\n    const now = new Date();\n    const upcoming = apps.filter(a => new Date(a.scheduledDateTime) > now && a.status === 'CONFIRMED').length;\n    const pending = apps.filter(a => a.status === 'PENDING').length;\n    const completed = apps.filter(a => a.status === 'COMPLETED').length;\n    const cancelled = apps.filter(a => a.status === 'CANCELLED').length;\n    setAppointmentStats({\n      upcoming,\n      pending,\n      completed,\n      cancelled\n    });\n  };\n  const updateProfile = async () => {\n    console.log('Update Profile button clicked');\n    try {\n      const payload = {\n        fullName: profile.fullName || null,\n        emailId: profile.emailId || null,\n        phoneNumber: profile.phoneNumber || null,\n        rawPassword: profile.rawPassword || null\n      };\n      await patientAPI.updateProfile(payload);\n      alert('Profile updated successfully!');\n      fetchData();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Profile update error:', err);\n      alert('Error updating profile: ' + (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message));\n    }\n  };\n\n  // const createReconsult = async (originalAppointmentId) => {\n  //   try {\n  //     await appointmentAPI.createReconsult(originalAppointmentId);\n  //     alert('Reconsult scheduled successfully!');\n  //     fetchData();\n  //     setReconsultModal(false);\n  //   } catch (err) {\n  //     alert('Error scheduling reconsult: ' + (err.response?.data?.message || err.message));\n  //   }\n  // };\n  const createReconsult = async originalAppointmentId => {\n    console.log('Creating reconsult for appointment ID:', originalAppointmentId);\n    try {\n      await appointmentAPI.createReconsult(originalAppointmentId);\n      alert('Reconsult scheduled successfully!');\n      fetchData();\n      setReconsultModal(false);\n    } catch (err) {\n      var _err$response3, _err$response4, _err$response4$data;\n      console.error('Reconsult error details:', (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data); // Added for debugging\n      alert('Error scheduling reconsult: ' + (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || err.message));\n    }\n  };\n  const initiatePayment = async () => {\n    console.log('Pay Now button clicked');\n    try {\n      const paymentPayload = {\n        specialization: newAppointment.specialization,\n        symptoms: newAppointment.symptoms.join(','),\n        additionalSymptoms: newAppointment.additionalSymptoms,\n        preferredDate: new Date(newAppointment.preferredDate).toISOString().split('T')[0]\n      };\n      const response = await paymentAPI.initiate(paymentPayload);\n      const {\n        orderId,\n        amount,\n        currency,\n        patientId\n      } = response.data;\n      const options = {\n        key: 'rzp_test_RVcBsWaU6E63ug',\n        amount: amount,\n        currency: currency,\n        order_id: orderId,\n        name: 'MediCare Appointment',\n        description: 'Appointment Booking',\n        handler: async response => {\n          const confirmPayload = {\n            orderId: response.razorpay_order_id,\n            paymentId: response.razorpay_payment_id,\n            signature: response.razorpay_signature,\n            method: 'CARD',\n            specialization: newAppointment.specialization,\n            symptoms: newAppointment.symptoms,\n            additionalSymptoms: newAppointment.additionalSymptoms,\n            preferredDate: newAppointment.preferredDate\n          };\n          try {\n            await appointmentAPI.confirmAfterPayment(confirmPayload);\n            alert('Appointment booked successfully after payment!');\n            setNewAppointment({\n              specialization: '',\n              symptoms: [],\n              additionalSymptoms: '',\n              preferredDate: ''\n            });\n            fetchData();\n          } catch (err) {\n            var _err$response5, _err$response5$data;\n            console.error('Confirmation error:', err);\n            alert('Payment successful, but appointment confirmation failed: ' + (((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || err.message));\n          }\n        },\n        prefill: {\n          name: profile.fullName,\n          email: profile.emailId,\n          contact: profile.phoneNumber\n        },\n        theme: {\n          color: '#3399cc'\n        }\n      };\n      const rzp = new window.Razorpay(options);\n      rzp.open();\n    } catch (err) {\n      var _err$response6, _err$response6$data;\n      console.error('Payment initiation error:', err);\n      alert('Oops, something went wrong. Payment failed: ' + (((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.message) || err.message));\n    }\n  };\n  const cancelAppointment = async id => {\n    if (window.confirm('Are you sure you want to cancel this appointment?')) {\n      try {\n        await appointmentAPI.cancel(id);\n        alert('Appointment cancelled successfully!');\n        fetchData();\n      } catch (err) {\n        var _err$response7, _err$response7$data;\n        alert('Error cancelling appointment: ' + (((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : (_err$response7$data = _err$response7.data) === null || _err$response7$data === void 0 ? void 0 : _err$response7$data.message) || err.message));\n      }\n    }\n  };\n  const rescheduleAppointment = async () => {\n    try {\n      await appointmentAPI.reschedule(selectedAppointment.appointmentId, {\n        newRequestedDateTime: newDateTime\n      });\n      alert('Appointment rescheduled successfully!');\n      setRescheduleModal(false);\n      fetchData();\n    } catch (err) {\n      var _err$response8, _err$response8$data;\n      alert('Error rescheduling appointment: ' + (((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : (_err$response8$data = _err$response8.data) === null || _err$response8$data === void 0 ? void 0 : _err$response8$data.message) || err.message));\n    }\n  };\n  const downloadPdf = async prescriptionId => {\n    console.log('Download PDF button clicked for prescription ID:', prescriptionId);\n    try {\n      const response = await prescriptionAPI.downloadPdf(prescriptionId);\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `prescription_${prescriptionId}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n    } catch (err) {\n      var _err$response9, _err$response9$data;\n      console.error('Download PDF error:', err);\n      alert('Error downloading PDF: ' + (((_err$response9 = err.response) === null || _err$response9 === void 0 ? void 0 : (_err$response9$data = _err$response9.data) === null || _err$response9$data === void 0 ? void 0 : _err$response9$data.message) || err.message));\n    }\n  };\n  const printPrescription = prescription => {\n    var _prescription$medicin;\n    console.log('Print button clicked, prescription data:', prescription); // Added: Log to check if advice is null in frontend\n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(`\n      <html>\n        <head><title>Prescription</title></head>\n        <body>\n          <h1>Prescription Details</h1>\n          <p><strong>Patient:</strong> ${profile.fullName}</p>\n          <p><strong>Diagnosis:</strong> ${prescription.diagnosis}</p>\n          <p><strong>Medications:</strong></p>\n          <ul>\n            ${(_prescription$medicin = prescription.medicines) === null || _prescription$medicin === void 0 ? void 0 : _prescription$medicin.map(med => `<li>${med.name} - ${med.dosage} - ${med.frequency} - ${med.duration} days</li>`).join('')}\n          </ul>\n          <p><strong>Advice:</strong> ${prescription.advice || 'No advice provided'}</p>\n        </body>\n      </html>\n    `);\n    printWindow.document.close();\n    printWindow.print();\n  };\n  const requestRefill = async prescriptionId => {\n    console.log('Request Refill button clicked for prescription ID:', prescriptionId);\n    try {\n      await prescriptionAPI.requestRefill(prescriptionId);\n      alert('Refill requested successfully!');\n    } catch (err) {\n      var _err$response0, _err$response0$data;\n      console.error('Request Refill error:', err);\n      alert('Error requesting refill: ' + (((_err$response0 = err.response) === null || _err$response0 === void 0 ? void 0 : (_err$response0$data = _err$response0.data) === null || _err$response0$data === void 0 ? void 0 : _err$response0$data.message) || err.message));\n    }\n  };\n  const bookFollowUp = async prescriptionId => {\n    console.log('Book Follow-up Confirm button clicked for prescription ID:', prescriptionId);\n    try {\n      await prescriptionAPI.bookFollowUp(prescriptionId, {\n        preferredDate\n      });\n      alert('Follow-up booked successfully!');\n      setFollowUpModal(false);\n      setPreferredDate('');\n      fetchData();\n    } catch (err) {\n      var _err$response1, _err$response1$data;\n      console.error('Book Follow-up error:', err);\n      alert('Error booking follow-up: ' + (((_err$response1 = err.response) === null || _err$response1 === void 0 ? void 0 : (_err$response1$data = _err$response1.data) === null || _err$response1$data === void 0 ? void 0 : _err$response1$data.message) || err.message));\n    }\n  };\n  const filteredAppointments = appointments.filter(a => {\n    var _a$doctor, _a$doctor$fullName, _a$specialization;\n    const matchesStatus = filters.appointments === 'all' || a.status.toLowerCase() === filters.appointments;\n    const matchesSearch = ((_a$doctor = a.doctor) === null || _a$doctor === void 0 ? void 0 : (_a$doctor$fullName = _a$doctor.fullName) === null || _a$doctor$fullName === void 0 ? void 0 : _a$doctor$fullName.toLowerCase().includes(search.toLowerCase())) || ((_a$specialization = a.specialization) === null || _a$specialization === void 0 ? void 0 : _a$specialization.toLowerCase().includes(search.toLowerCase()));\n    return matchesStatus && matchesSearch;\n  });\n  const filteredPrescriptions = prescriptions.filter(p => {\n    var _p$doctor, _p$doctor$fullName;\n    const matchesStatus = filters.prescriptions === 'all' || (p.status || 'ACTIVE').toLowerCase() === filters.prescriptions;\n    const matchesSearch = ((_p$doctor = p.doctor) === null || _p$doctor === void 0 ? void 0 : (_p$doctor$fullName = _p$doctor.fullName) === null || _p$doctor$fullName === void 0 ? void 0 : _p$doctor$fullName.toLowerCase().includes(search.toLowerCase())) || (p.specialization || '').toLowerCase().includes(search.toLowerCase());\n    return matchesStatus && matchesSearch;\n  });\n  console.log('Filtered prescriptions:', filteredPrescriptions); // Added: Debug filtered data\n\n  const tableStyle = {\n    width: '100%',\n    borderCollapse: 'collapse',\n    marginTop: '1rem',\n    fontSize: '0.9rem'\n  };\n  const thStyle = {\n    border: '1px solid #ddd',\n    padding: '12px',\n    backgroundColor: '#f2f2f2',\n    textAlign: 'left'\n  };\n  const tdStyle = {\n    border: '1px solid #ddd',\n    padding: '12px'\n  };\n  const buttonStyle = {\n    padding: '6px 12px',\n    margin: '2px',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontSize: '0.8rem'\n  };\n  const getSidebarButtonStyle = isActive => ({\n    background: 'none',\n    border: 'none',\n    color: 'black',\n    cursor: 'pointer',\n    fontWeight: isActive ? 'bold' : 'normal'\n  });\n  const getActionButtonStyle = buttonKey => ({\n    ...buttonStyle,\n    background: clickedButtons[buttonKey] ? 'lightgreen' : 'green',\n    color: 'black'\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      fontFamily: 'Poppins, sans-serif',\n      background: '#f4f8fb',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: sidebarCollapsed ? '0' : '250px',\n        background: 'white',\n        color: 'black',\n        padding: '1rem',\n        transition: 'width 0.3s',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          console.log('Sidebar toggle clicked');\n          setSidebarCollapsed(!sidebarCollapsed);\n        },\n        style: {\n          background: 'none',\n          border: 'none',\n          color: 'black',\n          fontSize: '1.5rem',\n          cursor: 'pointer'\n        },\n        children: \"\\u2630\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 826,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Patient Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyle: 'none',\n          padding: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              console.log('Profile section clicked');\n              setActiveSection('profile');\n            },\n            style: getSidebarButtonStyle(activeSection === 'profile'),\n            children: \"Update Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 831,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              console.log('Book Appointment section clicked');\n              setActiveSection('bookAppointment');\n            },\n            style: getSidebarButtonStyle(activeSection === 'bookAppointment'),\n            children: \"Book Appointment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              console.log('Appointments section clicked');\n              setActiveSection('appointments');\n            },\n            style: getSidebarButtonStyle(activeSection === 'appointments'),\n            children: \"Your Appointments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 833,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              console.log('Prescriptions section clicked');\n              setActiveSection('prescriptions');\n            },\n            style: getSidebarButtonStyle(activeSection === 'prescriptions'),\n            children: \"Your Prescriptions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 834,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 830,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 825,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        padding: '2rem',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 838,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: activeSection === 'profile' ? 'flex' : 'none',\n          background: 'white',\n          padding: '2rem',\n          borderRadius: '10px',\n          boxShadow: '0 2px 6px rgba(0,0,0,0.1)',\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Update Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 841,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: e => {\n              e.preventDefault();\n              updateProfile();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Full Name\",\n              value: profile.fullName || '',\n              onChange: e => setProfile({\n                ...profile,\n                fullName: e.target.value\n              }),\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                margin: '10px 0',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"Email\",\n              value: profile.emailId || '',\n              onChange: e => setProfile({\n                ...profile,\n                emailId: e.target.value\n              }),\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                margin: '10px 0',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 844,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Phone\",\n              value: profile.phoneNumber || '',\n              onChange: e => setProfile({\n                ...profile,\n                phoneNumber: e.target.value\n              }),\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                margin: '10px 0',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 845,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Password\",\n              value: profile.rawPassword || '',\n              onChange: e => setProfile({\n                ...profile,\n                rawPassword: e.target.value\n              }),\n              style: {\n                width: '100%',\n                padding: '10px',\n                margin: '10px 0',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              style: {\n                ...buttonStyle,\n                background: '#007bff',\n                color: 'white'\n              },\n              children: \"Update Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 842,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 840,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 839,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: activeSection === 'bookAppointment' ? 'flex' : 'none',\n          background: 'white',\n          padding: '2rem',\n          borderRadius: '10px',\n          boxShadow: '0 2px 6px rgba(0,0,0,0.1)',\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Book Appointment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 853,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: e => {\n              e.preventDefault();\n              initiatePayment();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: newAppointment.specialization,\n              onChange: e => setNewAppointment({\n                ...newAppointment,\n                specialization: e.target.value\n              }),\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                margin: '10px 0',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Specialization\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"CARDIOLOGIST\",\n                children: \"Cardiologist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ORTHOPEDIC\",\n                children: \"Orthopedic\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"DENTIST\",\n                children: \"Dentist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 859,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"GYNAECOLOGIST\",\n                children: \"Gynaecologist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"NEUROLOGIST\",\n                children: \"Neurologist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"GASTROENTEROLOGIST\",\n                children: \"Gastroenterologist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 862,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"PEDIATRICS\",\n                children: \"Pediatrics\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 863,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"RADIOLOGY\",\n                children: \"Radiology\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"GENERAL_PHYSICIAN\",\n                children: \"General Physician\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"OTOLARYNGOLOGIST_ENT\",\n                children: \"Otolaryngologist ENT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ENDOCRINOLOGIST\",\n                children: \"Endocrinologist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ONCOLOGY\",\n                children: \"Oncology\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Symptoms (Select one or more):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 870,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexWrap: 'wrap',\n                margin: '10px 0'\n              },\n              children: symptomOptions.map(symptom => /*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  margin: '5px',\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  value: symptom,\n                  checked: newAppointment.symptoms.includes(symptom),\n                  onChange: e => {\n                    const {\n                      value,\n                      checked\n                    } = e.target;\n                    setNewAppointment(prev => ({\n                      ...prev,\n                      symptoms: checked ? [...prev.symptoms, value] : prev.symptoms.filter(s => s !== value)\n                    }));\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 874,\n                  columnNumber: 21\n                }, this), symptom.replace('_', ' ')]\n              }, symptom, true, {\n                fileName: _jsxFileName,\n                lineNumber: 873,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Additional Symptoms\",\n              value: newAppointment.additionalSymptoms,\n              onChange: e => setNewAppointment({\n                ...newAppointment,\n                additionalSymptoms: e.target.value\n              }),\n              style: {\n                width: '100%',\n                padding: '10px',\n                margin: '10px 0',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              value: newAppointment.preferredDate,\n              onChange: e => setNewAppointment({\n                ...newAppointment,\n                preferredDate: e.target.value\n              }),\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                margin: '10px 0',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              style: {\n                ...buttonStyle,\n                background: '#007bff',\n                color: 'white'\n              },\n              children: \"Pay Now (\\u20B9500)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 852,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: activeSection === 'appointments' ? 'flex' : 'none',\n          background: 'white',\n          padding: '2rem',\n          borderRadius: '10px',\n          boxShadow: '0 2px 6px rgba(0,0,0,0.1)',\n          flex: 1,\n          flexDirection: 'column'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-around',\n            marginBottom: '2rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '1rem',\n              background: '#e9ecef',\n              borderRadius: '8px'\n            },\n            children: [\"\\uD83D\\uDDD3\\uFE0F Upcoming: \", appointmentStats.upcoming]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '1rem',\n              background: '#e9ecef',\n              borderRadius: '8px'\n            },\n            children: [\"\\u23F3 Pending: \", appointmentStats.pending]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 899,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '1rem',\n              background: '#e9ecef',\n              borderRadius: '8px'\n            },\n            children: [\"\\u2705 Completed: \", appointmentStats.completed]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '1rem',\n              background: '#e9ecef',\n              borderRadius: '8px'\n            },\n            children: [\"\\u274C Cancelled: \", appointmentStats.cancelled]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search by doctor or department\",\n            value: search,\n            onChange: e => setSearch(e.target.value),\n            style: {\n              flex: 1,\n              padding: '10px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 904,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.appointments,\n            onChange: e => setFilters({\n              ...filters,\n              appointments: e.target.value\n            }),\n            style: {\n              marginLeft: '1rem',\n              padding: '10px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 906,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pending\",\n              children: \"Pending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 907,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"confirmed\",\n              children: \"Confirmed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 908,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"completed\",\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cancelled\",\n              children: \"Cancelled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 910,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 905,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 903,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          style: tableStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Appointment ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 916,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Specialization\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 917,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Date & Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 918,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Booking Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 920,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 921,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 915,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredAppointments.map((a, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: index % 2 === 0 ? {} : {\n                backgroundColor: '#f9f9f9'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: tdStyle,\n                children: a.appointmentId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 927,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: tdStyle,\n                children: a.specialization || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 928,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: tdStyle,\n                children: a.scheduledDateTime || a.preferredDate || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 929,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: tdStyle,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: a.status === 'CONFIRMED' ? 'green' : a.status === 'PENDING' ? 'orange' : a.status === 'COMPLETED' ? 'blue' : 'red',\n                    fontWeight: 'bold'\n                  },\n                  children: a.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 931,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 930,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: tdStyle,\n                children: a.createdAt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: tdStyle,\n                children: [a.status === 'CANCELLED' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    ...getActionButtonStyle(`view-${a.appointmentId}`),\n                    background: '#17a2b8',\n                    color: 'white'\n                  },\n                  onClick: () => {\n                    console.log('View Details clicked');\n                    setSelectedAppointment(a);\n                    setClickedButtons(prev => ({\n                      ...prev,\n                      [`view-${a.appointmentId}`]: true\n                    }));\n                  },\n                  children: \"View Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 941,\n                  columnNumber: 23\n                }, this), a.status === 'COMPLETED' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    style: {\n                      ...getActionButtonStyle(`view-${a.appointmentId}`),\n                      background: '#17a2b8',\n                      color: 'white'\n                    },\n                    onClick: () => {\n                      console.log('View Details clicked');\n                      setSelectedAppointment(a);\n                      setClickedButtons(prev => ({\n                        ...prev,\n                        [`view-${a.appointmentId}`]: true\n                      }));\n                    },\n                    children: \"View Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 945,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: getActionButtonStyle(`reconsult-${a.appointmentId}`),\n                    onClick: () => {\n                      setSelectedAppointmentForReconsult(a);\n                      setReconsultModal(true);\n                      setClickedButtons(prev => ({\n                        ...prev,\n                        [`reconsult-${a.appointmentId}`]: true\n                      }));\n                    },\n                    children: \"Schedule Reconsult\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 946,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), a.status === 'CONFIRMED' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    ...getActionButtonStyle(`view-${a.appointmentId}`),\n                    background: '#17a2b8',\n                    color: 'white'\n                  },\n                  onClick: () => {\n                    console.log('View Details clicked');\n                    setSelectedAppointment(a);\n                    setClickedButtons(prev => ({\n                      ...prev,\n                      [`view-${a.appointmentId}`]: true\n                    }));\n                  },\n                  children: \"View Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 950,\n                  columnNumber: 23\n                }, this), a.status === 'PENDING' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    style: {\n                      ...getActionButtonStyle(`view-${a.appointmentId}`),\n                      background: '#17a2b8',\n                      color: 'white'\n                    },\n                    onClick: () => {\n                      console.log('View Details clicked');\n                      setSelectedAppointment(a);\n                      setClickedButtons(prev => ({\n                        ...prev,\n                        [`view-${a.appointmentId}`]: true\n                      }));\n                    },\n                    children: \"View Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 954,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: getActionButtonStyle(`cancel-${a.appointmentId}`),\n                    onClick: () => {\n                      cancelAppointment(a.appointmentId);\n                      setClickedButtons(prev => ({\n                        ...prev,\n                        [`cancel-${a.appointmentId}`]: true\n                      }));\n                    },\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 955,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 19\n              }, this)]\n            }, a.appointmentId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 924,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 913,\n          columnNumber: 11\n        }, this), selectedAppointment && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '2rem',\n            padding: '1rem',\n            background: '#f8f9fa',\n            borderRadius: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Appointment Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 965,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Appointment ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 966,\n              columnNumber: 8\n            }, this), \" \", selectedAppointment.appointmentId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Specialization:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 968,\n              columnNumber: 8\n            }, this), \" \", selectedAppointment.specialization]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 968,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 969,\n              columnNumber: 8\n            }, this), \" \", selectedAppointment.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 969,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Scheduled Date/Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 970,\n              columnNumber: 8\n            }, this), \" \", selectedAppointment.scheduledDateTime]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Symptoms:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 971,\n              columnNumber: 8\n            }, this), \" \", selectedAppointment.symptoms]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 971,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Additional Symptoms:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 8\n            }, this), \" \", selectedAppointment.additionalSymptoms]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 972,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Preferred Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 973,\n              columnNumber: 8\n            }, this), \" \", selectedAppointment.preferredDate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 973,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Fee:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 974,\n              columnNumber: 8\n            }, this), \" \\u20B9\", selectedAppointment.fee]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Meeting Link:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 975,\n              columnNumber: 8\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: selectedAppointment.meetingLink,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: selectedAppointment.meetingLink\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 975,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 964,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 896,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: activeSection === 'prescriptions' ? 'flex' : 'none',\n          background: 'white',\n          padding: '2rem',\n          borderRadius: '10px',\n          boxShadow: '0 2px 6px rgba(0,0,0,0.1)',\n          flex: 1,\n          flexDirection: 'column'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search by doctor or department\",\n            value: search,\n            onChange: e => setSearch(e.target.value),\n            style: {\n              flex: 1,\n              padding: '10px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 997,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.prescriptions,\n            onChange: e => setFilters({\n              ...filters,\n              prescriptions: e.target.value\n            }),\n            style: {\n              marginLeft: '1rem',\n              padding: '10px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 999,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"active\",\n              children: \"Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"expired\",\n              children: \"Expired\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1001,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 998,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchData,\n            style: {\n              ...buttonStyle,\n              background: '#28a745',\n              color: 'white',\n              marginLeft: '1rem'\n            },\n            children: \"Refresh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1003,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 996,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          style: tableStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Prescription ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1008,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Prescription Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1009,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1010,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1011,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1007,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1006,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: (() => {\n              console.log('Filtered prescriptions data:', filteredPrescriptions);\n              return filteredPrescriptions.length > 0 ? filteredPrescriptions.map((p, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: index % 2 === 0 ? {} : {\n                  backgroundColor: '#f9f9f9'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: tdStyle,\n                  children: p.prescriptionId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1019,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: tdStyle,\n                  children: p.issuedAt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1020,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: tdStyle,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: (p.status || 'ACTIVE') === 'ACTIVE' ? 'green' : 'red',\n                      fontWeight: 'bold'\n                    },\n                    children: p.status || 'ACTIVE'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1022,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1021,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: tdStyle,\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    style: {\n                      ...getActionButtonStyle(`view-${p.prescriptionId}`),\n                      background: '#17a2b8',\n                      color: 'white'\n                    },\n                    onClick: () => {\n                      console.log('View Prescription clicked');\n                      setSelectedPrescription(p);\n                      setClickedButtons(prev => ({\n                        ...prev,\n                        [`view-${p.prescriptionId}`]: true\n                      }));\n                    },\n                    children: \"View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1027,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: getActionButtonStyle(`download-${p.prescriptionId}`),\n                    onClick: () => {\n                      downloadPdf(p.prescriptionId);\n                      setClickedButtons(prev => ({\n                        ...prev,\n                        [`download-${p.prescriptionId}`]: true\n                      }));\n                    },\n                    children: \"Download PDF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1028,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: getActionButtonStyle(`print-${p.prescriptionId}`),\n                    onClick: () => {\n                      printPrescription(p);\n                      setClickedButtons(prev => ({\n                        ...prev,\n                        [`print-${p.prescriptionId}`]: true\n                      }));\n                    },\n                    children: \"Print\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1029,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1026,\n                  columnNumber: 21\n                }, this)]\n              }, p.prescriptionId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1018,\n                columnNumber: 19\n              }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"4\",\n                  style: {\n                    textAlign: 'center',\n                    padding: '20px'\n                  },\n                  children: \"No prescriptions found. Try refreshing or check if prescriptions have been added.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1034,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 19\n              }, this);\n            })()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1014,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1005,\n          columnNumber: 11\n        }, this), selectedPrescription && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '2rem',\n            padding: '1rem',\n            background: '#f8f9fa',\n            borderRadius: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Prescription Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1042,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Patient:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1043,\n              columnNumber: 18\n            }, this), \" \", profile.fullName, \" (ID: \", profile.userId, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1043,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Diagnosis:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1044,\n              columnNumber: 18\n            }, this), \" \", selectedPrescription.diagnosis]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1044,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Medications:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1045,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1045,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: ((_selectedPrescription = selectedPrescription.medicines) === null || _selectedPrescription === void 0 ? void 0 : _selectedPrescription.length) > 0 ? selectedPrescription.medicines.map((med, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [med.name, \" - \", med.dosage, \" - \", med.frequency, \" - \", med.duration, \" days - Notes: \", med.notes]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1048,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"No medications listed.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1049,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1046,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Advice:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1051,\n              columnNumber: 18\n            }, this), \" \", selectedPrescription.advice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1051,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 9\n      }, this), reconsultModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          background: 'white',\n          padding: '2rem',\n          borderRadius: '10px',\n          boxShadow: '0 4px 10px rgba(0,0,0,0.1)',\n          zIndex: 1000\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Schedule Reconsult\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1057,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Appointment ID: \", selectedAppointmentForReconsult === null || selectedAppointmentForReconsult === void 0 ? void 0 : selectedAppointmentForReconsult.appointmentId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Doctor: \", selectedAppointmentForReconsult === null || selectedAppointmentForReconsult === void 0 ? void 0 : (_selectedAppointmentF = selectedAppointmentForReconsult.doctor) === null || _selectedAppointmentF === void 0 ? void 0 : _selectedAppointmentF.fullName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1059,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"This will create a new reconsult request for this completed appointment.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1060,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => createReconsult(selectedAppointmentForReconsult.appointmentId),\n          style: {\n            ...buttonStyle,\n            background: '#007bff',\n            color: 'white'\n          },\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1061,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setReconsultModal(false),\n          style: {\n            ...buttonStyle,\n            background: '#ccc',\n            color: 'black'\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1062,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1056,\n        columnNumber: 11\n      }, this), rescheduleModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          background: 'white',\n          padding: '2rem',\n          borderRadius: '10px',\n          boxShadow: '0 4px 10px rgba(0,0,0,0.1)',\n          zIndex: 1000\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Reschedule Appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1067,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Doctor: \", selectedAppointment === null || selectedAppointment === void 0 ? void 0 : (_selectedAppointment$ = selectedAppointment.doctor) === null || _selectedAppointment$ === void 0 ? void 0 : _selectedAppointment$.fullName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1068,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Current Date/Time: \", selectedAppointment === null || selectedAppointment === void 0 ? void 0 : selectedAppointment.scheduledDateTime]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          value: newDateTime,\n          onChange: e => setNewDateTime(e.target.value),\n          style: {\n            width: '100%',\n            padding: '10px',\n            margin: '10px 0',\n            border: '1px solid #ccc',\n            borderRadius: '4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: rescheduleAppointment,\n          style: {\n            ...buttonStyle,\n            background: '#007bff',\n            color: 'white'\n          },\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            console.log('Reschedule Cancel clicked');\n            setRescheduleModal(false);\n          },\n          style: {\n            ...buttonStyle,\n            background: '#ccc',\n            color: 'black'\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1072,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1066,\n        columnNumber: 11\n      }, this), followUpModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          background: 'white',\n          padding: '2rem',\n          borderRadius: '10px',\n          boxShadow: '0 4px 10px rgba(0,0,0,0.1)',\n          zIndex: 1000\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Book Follow-up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1077,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Prescription ID: \", selectedPrescription === null || selectedPrescription === void 0 ? void 0 : selectedPrescription.prescriptionId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1078,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          value: preferredDate,\n          onChange: e => setPreferredDate(e.target.value),\n          style: {\n            width: '100%',\n            padding: '10px',\n            margin: '10px 0',\n            border: '1px solid #ccc',\n            borderRadius: '4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1079,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => bookFollowUp(selectedPrescription.prescriptionId),\n          style: {\n            ...buttonStyle,\n            background: '#007bff',\n            color: 'white'\n          },\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1080,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            console.log('Follow-up Cancel clicked');\n            setFollowUpModal(false);\n          },\n          style: {\n            ...buttonStyle,\n            background: '#ccc',\n            color: 'black'\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1081,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1076,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 837,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 824,\n    columnNumber: 5\n  }, this);\n};\n_s(PatientDashboard, \"C1ulIyQPgWjFxv5AYuBr5mWsDFI=\");\n_c = PatientDashboard;\nexport default PatientDashboard;\nvar _c;\n$RefreshReg$(_c, \"PatientDashboard\");","map":{"version":3,"names":["React","useState","useEffect","patientAPI","prescriptionAPI","paymentAPI","appointmentAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","PatientDashboard","_s","_selectedPrescription","_selectedAppointmentF","_selectedAppointment$","reconsultModal","setReconsultModal","selectedAppointmentForReconsult","setSelectedAppointmentForReconsult","activeSection","setActiveSection","sidebarCollapsed","setSidebarCollapsed","profile","setProfile","userId","fullName","emailId","phoneNumber","rawPassword","appointments","setAppointments","prescriptions","setPrescriptions","newAppointment","setNewAppointment","specialization","symptoms","additionalSymptoms","preferredDate","appointmentStats","setAppointmentStats","upcoming","pending","completed","cancelled","filters","setFilters","dateRange","search","setSearch","selectedAppointment","setSelectedAppointment","selectedPrescription","setSelectedPrescription","rescheduleModal","setRescheduleModal","newDateTime","setNewDateTime","refillModal","setRefillModal","followUpModal","setFollowUpModal","setPreferredDate","loading","setLoading","clickedButtons","setClickedButtons","symptomOptions","fetchData","_profileRes$data","_profileRes$data$user","_profileRes$data2","_profileRes$data2$use","_profileRes$data3","_profileRes$data3$use","_profileRes$data4","_profileRes$data4$use","profileRes","appointmentsRes","prescriptionsRes","Promise","all","getProfile","catch","data","getAppointments","getPrescriptions","user","calculateStats","console","log","err","_err$response","_err$response$data","error","alert","response","message","apps","now","Date","filter","a","scheduledDateTime","status","length","updateProfile","payload","_err$response2","_err$response2$data","createReconsult","originalAppointmentId","_err$response3","_err$response4","_err$response4$data","initiatePayment","paymentPayload","join","toISOString","split","initiate","orderId","amount","currency","patientId","options","key","order_id","name","description","handler","confirmPayload","razorpay_order_id","paymentId","razorpay_payment_id","signature","razorpay_signature","method","confirmAfterPayment","_err$response5","_err$response5$data","prefill","email","contact","theme","color","rzp","window","Razorpay","open","_err$response6","_err$response6$data","cancelAppointment","id","confirm","cancel","_err$response7","_err$response7$data","rescheduleAppointment","reschedule","appointmentId","newRequestedDateTime","_err$response8","_err$response8$data","downloadPdf","prescriptionId","url","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","_err$response9","_err$response9$data","printPrescription","prescription","_prescription$medicin","printWindow","write","diagnosis","medicines","map","med","dosage","frequency","duration","advice","close","print","requestRefill","_err$response0","_err$response0$data","bookFollowUp","_err$response1","_err$response1$data","filteredAppointments","_a$doctor","_a$doctor$fullName","_a$specialization","matchesStatus","toLowerCase","matchesSearch","doctor","includes","filteredPrescriptions","p","_p$doctor","_p$doctor$fullName","tableStyle","width","borderCollapse","marginTop","fontSize","thStyle","border","padding","backgroundColor","textAlign","tdStyle","buttonStyle","margin","borderRadius","cursor","getSidebarButtonStyle","isActive","background","fontWeight","getActionButtonStyle","buttonKey","style","display","fontFamily","minHeight","children","transition","overflow","onClick","fileName","_jsxFileName","lineNumber","columnNumber","listStyle","flex","flexDirection","boxShadow","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","required","flexWrap","symptom","alignItems","checked","prev","s","replace","justifyContent","marginBottom","marginLeft","index","createdAt","fee","meetingLink","rel","issuedAt","colSpan","idx","notes","position","top","left","transform","zIndex","_c","$RefreshReg$"],"sources":["/Users/poojav/Desktop/MediCareOnline/FrontendMediCare/src/components/PatientDashBoard.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import { patientAPI, prescriptionAPI, paymentAPI, appointmentAPI } from '../services/api';\r\n\r\n// const PatientDashboard = () => {\r\n//   const [reconsultModal, setReconsultModal] = useState(false);\r\n//   const [selectedAppointmentForReconsult, setSelectedAppointmentForReconsult] = useState(null);\r\n//   const [activeSection, setActiveSection] = useState('profile');\r\n//   const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\r\n//   const [profile, setProfile] = useState({ userId: '', fullName: '', emailId: '', phoneNumber: '', rawPassword: '' });\r\n//   const [appointments, setAppointments] = useState([]);\r\n//   const [prescriptions, setPrescriptions] = useState([]);\r\n//   const [newAppointment, setNewAppointment] = useState({ \r\n//     specialization: '', \r\n//     symptoms: [], \r\n//     additionalSymptoms: '', \r\n//     preferredDate: '' \r\n//   });\r\n//   const [appointmentStats, setAppointmentStats] = useState({ upcoming: 0, pending: 0, completed: 0, cancelled: 0 });\r\n//   const [filters, setFilters] = useState({ appointments: 'all', prescriptions: 'all', dateRange: '' });\r\n//   const [search, setSearch] = useState('');\r\n//   const [selectedAppointment, setSelectedAppointment] = useState(null);\r\n//   const [selectedPrescription, setSelectedPrescription] = useState(null);\r\n//   const [rescheduleModal, setRescheduleModal] = useState(false);\r\n//   const [newDateTime, setNewDateTime] = useState('');\r\n//   const [refillModal, setRefillModal] = useState(false);\r\n//   const [followUpModal, setFollowUpModal] = useState(false);\r\n//   const [preferredDate, setPreferredDate] = useState('');\r\n//   const [loading, setLoading] = useState(false);\r\n//   const [clickedButtons, setClickedButtons] = useState({});  // Added: State to track clicked buttons\r\n\r\n//   const symptomOptions = [\r\n//     'FEVER', 'COUGH', 'HEADACHE', 'CHEST_PAIN', 'NAUSEA', 'SHORTNESS_OF_BREATH', 'FATIGUE', 'OTHER'\r\n//   ];\r\n\r\n//   useEffect(() => {\r\n//     fetchData();\r\n//   }, []);\r\n\r\n//   const fetchData = async () => {\r\n//     setLoading(true);\r\n//     try {\r\n//       const [profileRes, appointmentsRes, prescriptionsRes] = await Promise.all([\r\n//         patientAPI.getProfile().catch(() => ({ data: {} })),\r\n//         patientAPI.getAppointments(),\r\n//         prescriptionAPI.getPrescriptions().catch(() => ({ data: [] }))\r\n//       ]);\r\n//       setProfile({\r\n//         userId: profileRes.data?.user?.userId || '',\r\n//         fullName: profileRes.data?.user?.fullName || '',\r\n//         emailId: profileRes.data?.user?.emailId || '',\r\n//         phoneNumber: profileRes.data?.user?.phoneNumber || '',\r\n//         rawPassword: ''\r\n//       });\r\n//       setAppointments(appointmentsRes.data || []);\r\n//       setPrescriptions(prescriptionsRes.data || []);\r\n//       calculateStats(appointmentsRes.data || []);\r\n//       console.log('Fetched appointments:', appointmentsRes.data);\r\n//       console.log('Fetched prescriptions:', prescriptionsRes.data);\r\n//     } catch (err) {\r\n//       console.error('Fetch error:', err);\r\n//       alert('Error fetching data: ' + (err.response?.data?.message || err.message));\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const calculateStats = (apps) => {\r\n//     const now = new Date();\r\n//     const upcoming = apps.filter(a => new Date(a.scheduledDateTime) > now && a.status === 'CONFIRMED').length;\r\n//     const pending = apps.filter(a => a.status === 'PENDING').length;\r\n//     const completed = apps.filter(a => a.status === 'COMPLETED').length;\r\n//     const cancelled = apps.filter(a => a.status === 'CANCELLED').length;\r\n//     setAppointmentStats({ upcoming, pending, completed, cancelled });\r\n//   };\r\n\r\n//   const updateProfile = async () => {\r\n//     console.log('Update Profile button clicked');\r\n//     try {\r\n//       const payload = {\r\n//         fullName: profile.fullName || null,\r\n//         emailId: profile.emailId || null,\r\n//         phoneNumber: profile.phoneNumber || null,\r\n//         rawPassword: profile.rawPassword || null\r\n//       };\r\n//       await patientAPI.updateProfile(payload);\r\n//       alert('Profile updated successfully!');\r\n//       fetchData();\r\n//     } catch (err) {\r\n//       console.error('Profile update error:', err);\r\n//       alert('Error updating profile: ' + (err.response?.data?.message || err.message));\r\n//     }\r\n//   };\r\n\r\n//   const createReconsult = async (originalAppointmentId) => {\r\n//     try {\r\n//       await appointmentAPI.createReconsult(originalAppointmentId);\r\n//       alert('Reconsult scheduled successfully!');\r\n//       fetchData();\r\n//       setReconsultModal(false);\r\n//     } catch (err) {\r\n//       alert('Error scheduling reconsult: ' + (err.response?.data?.message || err.message));\r\n//     }\r\n//   };\r\n\r\n//   const initiatePayment = async () => {\r\n//     console.log('Pay Now button clicked');\r\n//     try {\r\n//       const paymentPayload = {\r\n//         specialization: newAppointment.specialization,\r\n//         symptoms: newAppointment.symptoms.join(','),\r\n//         additionalSymptoms: newAppointment.additionalSymptoms,\r\n//         preferredDate: new Date(newAppointment.preferredDate).toISOString().split('T')[0]\r\n//       };\r\n//       const response = await paymentAPI.initiate(paymentPayload);\r\n//       const { orderId, amount, currency, patientId } = response.data;\r\n//       const options = {\r\n//         key: 'rzp_test_RVcBsWaU6E63ug',\r\n//         amount: amount,\r\n//         currency: currency,\r\n//         order_id: orderId,\r\n//         name: 'MediCare Appointment',\r\n//         description: 'Appointment Booking',\r\n//         handler: async (response) => {\r\n//           const confirmPayload = {\r\n//             orderId: response.razorpay_order_id,\r\n//             paymentId: response.razorpay_payment_id,\r\n//             signature: response.razorpay_signature,\r\n//             method: 'CARD',\r\n//             specialization: newAppointment.specialization,\r\n//             symptoms: newAppointment.symptoms,\r\n//             additionalSymptoms: newAppointment.additionalSymptoms,\r\n//             preferredDate: newAppointment.preferredDate\r\n//           };\r\n//           try {\r\n//             await appointmentAPI.confirmAfterPayment(confirmPayload);\r\n//             alert('Appointment booked successfully after payment!');\r\n//             setNewAppointment({ specialization: '', symptoms: [], additionalSymptoms: '', preferredDate: '' });\r\n//             fetchData();\r\n//           } catch (err) {\r\n//             console.error('Confirmation error:', err);\r\n//             alert('Payment successful, but appointment confirmation failed: ' + (err.response?.data?.message || err.message));\r\n//           }\r\n//         },\r\n//         prefill: {\r\n//           name: profile.fullName,\r\n//           email: profile.emailId,\r\n//           contact: profile.phoneNumber\r\n//         },\r\n//         theme: {\r\n//           color: '#3399cc'\r\n//         }\r\n//       };\r\n//       const rzp = new window.Razorpay(options);\r\n//       rzp.open();\r\n//     } catch (err) {\r\n//       console.error('Payment initiation error:', err);\r\n//       alert('Oops, something went wrong. Payment failed: ' + (err.response?.data?.message || err.message));\r\n//     }\r\n//   };\r\n\r\n//   const cancelAppointment = async (id) => {\r\n//     if (window.confirm('Are you sure you want to cancel this appointment?')) {\r\n//       try {\r\n//         await appointmentAPI.cancel(id);\r\n//         alert('Appointment cancelled successfully!');\r\n//         fetchData();\r\n//       } catch (err) {\r\n//         alert('Error cancelling appointment: ' + (err.response?.data?.message || err.message));\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   const rescheduleAppointment = async () => {\r\n//     try {\r\n//       await appointmentAPI.reschedule(selectedAppointment.appointmentId, { newRequestedDateTime: newDateTime });\r\n//       alert('Appointment rescheduled successfully!');\r\n//       setRescheduleModal(false);\r\n//       fetchData();\r\n//     } catch (err) {\r\n//       alert('Error rescheduling appointment: ' + (err.response?.data?.message || err.message));\r\n//     }\r\n//   };\r\n\r\n//   const downloadPdf = async (prescriptionId) => {\r\n//     console.log('Download PDF button clicked for prescription ID:', prescriptionId);\r\n//     try {\r\n//       const response = await prescriptionAPI.downloadPdf(prescriptionId);\r\n//       const url = window.URL.createObjectURL(new Blob([response.data]));\r\n//       const link = document.createElement('a');\r\n//       link.href = url;\r\n//       link.setAttribute('download', `prescription_${prescriptionId}.pdf`);\r\n//       document.body.appendChild(link);\r\n//       link.click();\r\n//     } catch (err) {\r\n//       console.error('Download PDF error:', err);\r\n//       alert('Error downloading PDF: ' + (err.response?.data?.message || err.message));\r\n//     }\r\n//   };\r\n\r\n//   const printPrescription = (prescription) => {\r\n//     console.log('Print button clicked, prescription data:', prescription);  // Added: Log to check if advice is null in frontend\r\n//     const printWindow = window.open('', '_blank');\r\n//     printWindow.document.write(`\r\n//       <html>\r\n//         <head><title>Prescription</title></head>\r\n//         <body>\r\n//           <h1>Prescription Details</h1>\r\n//           <p><strong>Patient:</strong> ${profile.fullName}</p>\r\n//           <p><strong>Diagnosis:</strong> ${prescription.diagnosis}</p>\r\n//           <p><strong>Medications:</strong></p>\r\n//           <ul>\r\n//             ${prescription.medicines?.map(med => `<li>${med.name} - ${med.dosage} - ${med.frequency} - ${med.duration} days</li>`).join('')}\r\n//           </ul>\r\n//           <p><strong>Advice:</strong> ${prescription.advice || 'No advice provided'}</p>\r\n//         </body>\r\n//       </html>\r\n//     `);\r\n//     printWindow.document.close();\r\n//     printWindow.print();\r\n//   };\r\n\r\n//   const requestRefill = async (prescriptionId) => {\r\n//     console.log('Request Refill button clicked for prescription ID:', prescriptionId);\r\n//     try {\r\n//       await prescriptionAPI.requestRefill(prescriptionId);\r\n//       alert('Refill requested successfully!');\r\n//     } catch (err) {\r\n//       console.error('Request Refill error:', err);\r\n//       alert('Error requesting refill: ' + (err.response?.data?.message || err.message));\r\n//     }\r\n//   };\r\n\r\n//   const bookFollowUp = async (prescriptionId) => {\r\n//     console.log('Book Follow-up Confirm button clicked for prescription ID:', prescriptionId);\r\n//     try {\r\n//       await prescriptionAPI.bookFollowUp(prescriptionId, { preferredDate });\r\n//       alert('Follow-up booked successfully!');\r\n//       setFollowUpModal(false);\r\n//       setPreferredDate('');\r\n//       fetchData();\r\n//     } catch (err) {\r\n//       console.error('Book Follow-up error:', err);\r\n//       alert('Error booking follow-up: ' + (err.response?.data?.message || err.message));\r\n//     }\r\n//   };\r\n\r\n//   const filteredAppointments = appointments.filter(a => {\r\n//     const matchesStatus = filters.appointments === 'all' || a.status.toLowerCase() === filters.appointments;\r\n//     const matchesSearch = a.doctor?.fullName?.toLowerCase().includes(search.toLowerCase()) || a.specialization?.toLowerCase().includes(search.toLowerCase());\r\n//     return matchesStatus && matchesSearch;\r\n//   });\r\n\r\n//   const filteredPrescriptions = prescriptions.filter(p => {\r\n//     const matchesStatus = filters.prescriptions === 'all' || (p.status || 'ACTIVE').toLowerCase() === filters.prescriptions;\r\n//     const matchesSearch = p.doctor?.fullName?.toLowerCase().includes(search.toLowerCase()) || (p.specialization || '').toLowerCase().includes(search.toLowerCase());\r\n//     return matchesStatus && matchesSearch;\r\n//   });\r\n\r\n//   console.log('Filtered prescriptions:', filteredPrescriptions);  // Added: Debug filtered data\r\n\r\n//   const tableStyle = { width: '100%', borderCollapse: 'collapse', marginTop: '1rem', fontSize: '0.9rem' };\r\n//   const thStyle = { border: '1px solid #ddd', padding: '12px', backgroundColor: '#f2f2f2', textAlign: 'left' };\r\n//   const tdStyle = { border: '1px solid #ddd', padding: '12px' };\r\n//   const buttonStyle = { padding: '6px 12px', margin: '2px', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '0.8rem' };\r\n\r\n//   const getSidebarButtonStyle = (isActive) => ({\r\n    \r\n//     background: 'none',\r\n//     border: 'none',\r\n//     color: 'black',\r\n//     cursor: 'pointer',\r\n//     fontWeight: isActive ? 'bold' : 'normal'\r\n//   });\r\n\r\n//   const getActionButtonStyle = (buttonKey) => ({\r\n//     ...buttonStyle,\r\n//     background: clickedButtons[buttonKey] ? 'lightgreen' : 'green',\r\n//     color: 'black'\r\n//   });\r\n\r\n//   return (\r\n//     <div style={{ display: 'flex', fontFamily: 'Poppins, sans-serif', background: '#f4f8fb', minHeight: '100vh' }}>\r\n//       <div style={{ width: sidebarCollapsed ? '0' : '250px', background: 'white', color: 'black', padding: '1rem', transition: 'width 0.3s', overflow: 'hidden' }}>\r\n//         <button onClick={() => { console.log('Sidebar toggle clicked'); setSidebarCollapsed(!sidebarCollapsed); }} style={{ background: 'none', border: 'none', color: 'black', fontSize: '1.5rem', cursor: 'pointer' }}>\r\n//           ☰\r\n//         </button>\r\n//         <h2>Patient Menu</h2>\r\n//         <ul style={{ listStyle: 'none', padding: 0 }}>\r\n//           <li><button onClick={() => { console.log('Profile section clicked'); setActiveSection('profile'); }} style={getSidebarButtonStyle(activeSection === 'profile')}>Update Profile</button></li>\r\n//           <li><button onClick={() => { console.log('Book Appointment section clicked'); setActiveSection('bookAppointment'); }} style={getSidebarButtonStyle(activeSection === 'bookAppointment')}>Book Appointment</button></li>\r\n//           <li><button onClick={() => { console.log('Appointments section clicked'); setActiveSection('appointments'); }} style={getSidebarButtonStyle(activeSection === 'appointments')}>Your Appointments</button></li>\r\n//           <li><button onClick={() => { console.log('Prescriptions section clicked'); setActiveSection('prescriptions'); }} style={getSidebarButtonStyle(activeSection === 'prescriptions')}>Your Prescriptions</button></li>\r\n//         </ul>\r\n//       </div>\r\n//       <div style={{ flex: 1, padding: '2rem', display: 'flex', flexDirection: 'column' }}>\r\n//         {loading && <p>Loading...</p>}\r\n//         <div style={{ display: activeSection === 'profile' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1 }}>\r\n//           <div style={{ flex: 1 }}>\r\n//             <h3>Update Profile</h3>\r\n//             <form onSubmit={(e) => { e.preventDefault(); updateProfile(); }}>\r\n//               <input type=\"text\" placeholder=\"Full Name\" value={profile.fullName || ''} onChange={(e) => setProfile({ ...profile, fullName: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n//               <input type=\"email\" placeholder=\"Email\" value={profile.emailId || ''} onChange={(e) => setProfile({ ...profile, emailId: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n//               <input type=\"text\" placeholder=\"Phone\" value={profile.phoneNumber || ''} onChange={(e) => setProfile({ ...profile, phoneNumber: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n//               <input type=\"password\" placeholder=\"Password\" value={profile.rawPassword || ''} onChange={(e) => setProfile({ ...profile, rawPassword: e.target.value })} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n//               <button type=\"submit\" style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Update Profile</button>\r\n//             </form>\r\n//           </div>\r\n//         </div>\r\n//         <div style={{ display: activeSection === 'bookAppointment' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1 }}>\r\n//           <div style={{ flex: 1 }}>\r\n//             <h3>Book Appointment</h3>\r\n//             <form onSubmit={(e) => { e.preventDefault(); initiatePayment(); }}>\r\n//               <select value={newAppointment.specialization} onChange={(e) => setNewAppointment({ ...newAppointment, specialization: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }}>\r\n//                 <option value=\"\">Select Specialization</option>\r\n//                 <option value=\"CARDIOLOGIST\">Cardiologist</option>\r\n//                 <option value=\"ORTHOPEDIC\">Orthopedic</option>\r\n//                 <option value=\"DENTIST\">Dentist</option>\r\n//                 <option value=\"GYNAECOLOGIST\">Gynaecologist</option>\r\n//                 <option value=\"NEUROLOGIST\">Neurologist</option>\r\n//                 <option value=\"GASTROENTEROLOGIST\">Gastroenterologist</option>\r\n//                 <option value=\"PEDIATRICS\">Pediatrics</option>\r\n//                 <option value=\"RADIOLOGY\">Radiology</option>\r\n//                 <option value=\"GENERAL_PHYSICIAN\">General Physician</option>\r\n//                 <option value=\"OTOLARYNGOLOGIST_ENT\">Otolaryngologist ENT</option>\r\n//                 <option value=\"ENDOCRINOLOGIST\">Endocrinologist</option>\r\n//                 <option value=\"ONCOLOGY\">Oncology</option>\r\n//               </select>\r\n//               <label>Symptoms (Select one or more):</label>\r\n//               <div style={{ display: 'flex', flexWrap: 'wrap', margin: '10px 0' }}>\r\n//                 {symptomOptions.map(symptom => (\r\n//                   <label key={symptom} style={{ margin: '5px', display: 'flex', alignItems: 'center' }}>\r\n//                     <input\r\n//                       type=\"checkbox\"\r\n//                       value={symptom}\r\n//                       checked={newAppointment.symptoms.includes(symptom)}\r\n//                       onChange={(e) => {\r\n//                         const { value, checked } = e.target;\r\n//                         setNewAppointment(prev => ({\r\n//                           ...prev,\r\n//                           symptoms: checked ? [...prev.symptoms, value] : prev.symptoms.filter(s => s !== value)\r\n//                         }));\r\n//                       }}\r\n//                     />\r\n//                     {symptom.replace('_', ' ')}\r\n//                   </label>\r\n//                 ))}\r\n//               </div>\r\n//               <input type=\"text\" placeholder=\"Additional Symptoms\" value={newAppointment.additionalSymptoms} onChange={(e) => setNewAppointment({ ...newAppointment, additionalSymptoms: e.target.value })} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n//               <input type=\"datetime-local\" value={newAppointment.preferredDate} onChange={(e) => setNewAppointment({ ...newAppointment, preferredDate: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n//               <button type=\"submit\" style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Pay Now (₹500)</button>\r\n//             </form>\r\n//           </div>\r\n//         </div>\r\n//         <div style={{ display: activeSection === 'appointments' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1, flexDirection: 'column' }}>\r\n//           <div style={{ display: 'flex', justifyContent: 'space-around', marginBottom: '2rem' }}>\r\n//             <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>🗓️ Upcoming: {appointmentStats.upcoming}</div>\r\n//             <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>⏳ Pending: {appointmentStats.pending}</div>\r\n//             <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>✅ Completed: {appointmentStats.completed}</div>\r\n//             <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>❌ Cancelled: {appointmentStats.cancelled}</div>\r\n//           </div>\r\n//           <div style={{ display: 'flex', marginBottom: '1rem' }}>\r\n//             <input type=\"text\" placeholder=\"Search by doctor or department\" value={search} onChange={(e) => setSearch(e.target.value)} style={{ flex: 1, padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n//             <select value={filters.appointments} onChange={(e) => setFilters({ ...filters, appointments: e.target.value })} style={{ marginLeft: '1rem', padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }}>\r\n//               <option value=\"all\">All Status</option>\r\n//               <option value=\"pending\">Pending</option>\r\n//               <option value=\"confirmed\">Confirmed</option>\r\n//               <option value=\"completed\">Completed</option>\r\n//               <option value=\"cancelled\">Cancelled</option>\r\n//             </select>\r\n//           </div>\r\n//           <table style={tableStyle}>\r\n//             <thead>\r\n//               <tr>\r\n//                 <th style={thStyle}>Appointment ID</th>\r\n//                 {/* <th style={thStyle}>Doctor Name</th> */}\r\n//                 <th style={thStyle}>Specialization</th>\r\n//                 <th style={thStyle}>Date & Time</th>\r\n//                 <th style={thStyle}>Status</th>\r\n//                 <th style={thStyle}>Booking Date</th>\r\n//                 <th style={thStyle}>Actions</th>\r\n//               </tr>\r\n//             </thead>\r\n//             <tbody>\r\n//               {filteredAppointments.map((a, index) => (\r\n//                 <tr key={a.appointmentId} style={index % 2 === 0 ? {} : { backgroundColor: '#f9f9f9' }}>\r\n//                   <td style={tdStyle}>{a.appointmentId}</td>\r\n//                   {/* <td style={tdStyle}>{a.doctor?.fullName || 'Not Assigned'}</td> */}\r\n//                   <td style={tdStyle}>{a.specialization || 'N/A'}</td>\r\n//                   <td style={tdStyle}>{a.scheduledDateTime || a.preferredDate || 'N/A'}</td>\r\n//                   <td style={tdStyle}>\r\n//                     <span style={{\r\n//                       color: a.status === 'CONFIRMED' ? 'green' : a.status === 'PENDING' ? 'orange' : a.status === 'COMPLETED' ? 'blue' : 'red',\r\n//                       fontWeight: 'bold'\r\n//                     }}>\r\n//                       {a.status}\r\n//                     </span>\r\n//                   </td>\r\n//                   <td style={tdStyle}>{a.createdAt}</td>\r\n//                   <td style={tdStyle}>\r\n//                     <button style={{ ...getActionButtonStyle(`view-${a.appointmentId}`), background: '#17a2b8', color: 'white' }} onClick={() => { console.log('View Details clicked'); setSelectedAppointment(a); setClickedButtons(prev => ({ ...prev, [`view-${a.appointmentId}`]: true })); }}>View Details</button>\r\n//                     <button style={getActionButtonStyle(`cancel-${a.appointmentId}`)} onClick={() => { cancelAppointment(a.appointmentId); setClickedButtons(prev => ({ ...prev, [`cancel-${a.appointmentId}`]: true })); }}>Cancel</button>\r\n//                     {a.status === 'COMPLETED' && (\r\n//                       <button style={getActionButtonStyle(`reconsult-${a.appointmentId}`)} onClick={() => { setSelectedAppointmentForReconsult(a); setReconsultModal(true); setClickedButtons(prev => ({ ...prev, [`reconsult-${a.appointmentId}`]: true })); }}>Schedule Reconsult</button>\r\n//                     )}\r\n//                   </td>\r\n//                 </tr>\r\n//               ))}\r\n//             </tbody>\r\n//           </table>\r\n//           {selectedAppointment && (\r\n//             <div style={{ marginTop: '2rem', padding: '1rem', background: '#f8f9fa', borderRadius: '8px' }}>\r\n//               <h4>Appointment Details</h4>\r\n//               <p><strong>Appointment ID:</strong> {selectedAppointment.appointmentId}</p>\r\n//               <p><strong>Doctor:</strong> {selectedAppointment.doctor?.fullName}</p>\r\n//               <p><strong>Specialization:</strong> {selectedAppointment.specialization}</p>\r\n//               <p><strong>Status:</strong> {selectedAppointment.status}</p>\r\n//               <p><strong>Scheduled Date/Time:</strong> {selectedAppointment.scheduledDateTime}</p>\r\n//               <p><strong>Symptoms:</strong> {selectedAppointment.symptoms}</p>\r\n//               <p><strong>Additional Symptoms:</strong> {selectedAppointment.additionalSymptoms}</p>\r\n//               <p><strong>Preferred Date:</strong> {selectedAppointment.preferredDate}</p>\r\n//               <p><strong>Fee:</strong> ₹{selectedAppointment.fee}</p>\r\n//               <p><strong>Meeting Link:</strong> <a href={selectedAppointment.meetingLink} target=\"_blank\" rel=\"noopener noreferrer\">{selectedAppointment.meetingLink}</a></p>\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//         <div style={{ display: activeSection === 'prescriptions' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1, flexDirection: 'column' }}>\r\n//           <div style={{ display: 'flex', marginBottom: '1rem' }}>\r\n//             <input type=\"text\" placeholder=\"Search by doctor or department\" value={search} onChange={(e) => setSearch(e.target.value)} style={{ flex: 1, padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n//             <select value={filters.prescriptions} onChange={(e) => setFilters({ ...filters, prescriptions: e.target.value })} style={{ marginLeft: '1rem', padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }}>\r\n//               <option value=\"all\">All Status</option>\r\n//               <option value=\"active\">Active</option>\r\n//               <option value=\"expired\">Expired</option>\r\n//             </select>\r\n//             <button onClick={fetchData} style={{ ...buttonStyle, background: '#28a745', color: 'white', marginLeft: '1rem' }}>Refresh</button>\r\n//           </div>\r\n//           <table style={tableStyle}>\r\n//             <thead>\r\n//               <tr>\r\n//                 <th style={thStyle}>Prescription ID</th>\r\n//                 {/* <th style={thStyle}>Doctor Name</th>\r\n//                 <th style={thStyle}>Specialization</th>\r\n//                 <th style={thStyle}>Appointment Date</th> */}\r\n//                 <th style={thStyle}>Prescription Date</th>\r\n//                 <th style={thStyle}>Status</th>\r\n//                 <th style={thStyle}>Actions</th>\r\n//               </tr>\r\n//             </thead>\r\n//             <tbody>\r\n//               {(() => {\r\n//                 console.log('Filtered prescriptions data:', filteredPrescriptions);\r\n//                 return filteredPrescriptions.length > 0 ? filteredPrescriptions.map((p, index) => (\r\n//                   <tr key={p.prescriptionId} style={index % 2 === 0 ? {} : { backgroundColor: '#f9f9f9' }}>\r\n//                     <td style={tdStyle}>{p.prescriptionId}</td>\r\n//                     {/* <td style={tdStyle}>{p.doctor?.fullName || p.doctorName || 'Not Assigned'}</td>\r\n//                     <td style={tdStyle}>{p.doctor?.specialization || p.specialization || 'N/A'}</td>\r\n//                     <td style={tdStyle}>{p.appointmentDate || 'N/A'}</td> */}\r\n//                     <td style={tdStyle}>{p.issuedAt}</td>\r\n//                     <td style={tdStyle}>\r\n//                       <span style={{ color: (p.status || 'ACTIVE') === 'ACTIVE' ? 'green' : 'red', fontWeight: 'bold' }}>\r\n//                         {p.status || 'ACTIVE'}\r\n//                       </span>\r\n//                     </td>\r\n//                     <td style={tdStyle}>\r\n//                       <button style={{ ...getActionButtonStyle(`view-${p.prescriptionId}`), background: '#17a2b8', color: 'white' }} onClick={() => { console.log('View Prescription clicked'); setSelectedPrescription(p); setClickedButtons(prev => ({ ...prev, [`view-${p.prescriptionId}`]: true })); }}>View</button>\r\n//                       <button style={getActionButtonStyle(`download-${p.prescriptionId}`)} onClick={() => { downloadPdf(p.prescriptionId); setClickedButtons(prev => ({ ...prev, [`download-${p.prescriptionId}`]: true })); }}>Download PDF</button>\r\n//                       <button style={getActionButtonStyle(`print-${p.prescriptionId}`)} onClick={() => { printPrescription(p); setClickedButtons(prev => ({ ...prev, [`print-${p.prescriptionId}`]: true })); }}>Print</button>\r\n//                       <button style={getActionButtonStyle(`refill-${p.prescriptionId}`)} onClick={() => { requestRefill(p.prescriptionId); setClickedButtons(prev => ({ ...prev, [`refill-${p.prescriptionId}`]: true })); }}>Request Refill</button>\r\n//                       <button style={getActionButtonStyle(`followup-${p.prescriptionId}`)} onClick={() => { console.log('Book Follow-up clicked'); setSelectedPrescription(p); setFollowUpModal(true); setClickedButtons(prev => ({ ...prev, [`followup-${p.prescriptionId}`]: true })); }}>Book Follow-up</button>\r\n//                     </td>\r\n//                   </tr>\r\n//                 )) : (\r\n//                   <tr>\r\n//                     <td colSpan=\"7\" style={{ textAlign: 'center', padding: '20px' }}>No prescriptions found. Try refreshing or check if prescriptions have been added.</td>\r\n//                   </tr>\r\n//                 );\r\n//               })()}\r\n//             </tbody>\r\n//           </table>\r\n//           {selectedPrescription && (\r\n//             <div style={{ marginTop: '2rem', padding: '1rem', background: '#f8f9fa', borderRadius: '8px' }}>\r\n//               <h4>Prescription Details</h4>\r\n//               <p><strong>Patient:</strong> {profile.fullName} (ID: {profile.userId})</p>\r\n//               <p><strong>Diagnosis:</strong> {selectedPrescription.diagnosis}</p>\r\n//               <p><strong>Medications:</strong></p>\r\n//               <ul>\r\n//                 {selectedPrescription.medicines?.length > 0 ? selectedPrescription.medicines.map((med, idx) => (\r\n//                   <li key={idx}>{med.name} - {med.dosage} - {med.frequency} - {med.duration} days - Notes: {med.notes}</li>\r\n//                 )) : <li>No medications listed.</li>}\r\n//               </ul>\r\n//               <p><strong>Advice:</strong> {selectedPrescription.advice}</p>\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//         {reconsultModal && (\r\n//           <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', zIndex: 1000 }}>\r\n//             <h3>Schedule Reconsult</h3>\r\n//             <p>Appointment ID: {selectedAppointmentForReconsult?.appointmentId}</p>\r\n//             <p>Doctor: {selectedAppointmentForReconsult?.doctor?.fullName}</p>\r\n//             <p>This will create a new reconsult request for this completed appointment.</p>\r\n//             <button onClick={() => createReconsult(selectedAppointmentForReconsult.appointmentId)} style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Confirm</button>\r\n//             <button onClick={() => setReconsultModal(false)} style={{ ...buttonStyle, background: '#ccc', color: 'black' }}>Cancel</button>\r\n//           </div>\r\n//         )}\r\n//         {rescheduleModal && (\r\n//           <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', zIndex: 1000 }}>\r\n//             <h3>Reschedule Appointment</h3>\r\n//             <p>Doctor: {selectedAppointment?.doctor?.fullName}</p>\r\n//             <p>Current Date/Time: {selectedAppointment?.scheduledDateTime}</p>\r\n//             <input type=\"datetime-local\" value={newDateTime} onChange={(e) => setNewDateTime(e.target.value)} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n//             <button onClick={rescheduleAppointment} style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Confirm</button>\r\n//             <button onClick={() => { console.log('Reschedule Cancel clicked'); setRescheduleModal(false); }} style={{ ...buttonStyle, background: '#ccc', color: 'black' }}>Cancel</button>\r\n//           </div>\r\n//         )}\r\n//         {followUpModal && (\r\n//           <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', zIndex: 1000 }}>\r\n//             <h3>Book Follow-up</h3>\r\n//             <p>Prescription ID: {selectedPrescription?.prescriptionId}</p>\r\n//             <input type=\"datetime-local\" value={preferredDate} onChange={(e) => setPreferredDate(e.target.value)} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n//             <button onClick={() => bookFollowUp(selectedPrescription.prescriptionId)} style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Confirm</button>\r\n//             <button onClick={() => { console.log('Follow-up Cancel clicked'); setFollowUpModal(false); }} style={{ ...buttonStyle, background: '#ccc', color: 'black' }}>Cancel</button>\r\n//           </div>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default PatientDashboard;\r\n\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { patientAPI, prescriptionAPI, paymentAPI, appointmentAPI } from '../services/api';\r\n\r\nconst PatientDashboard = () => {\r\n  const [reconsultModal, setReconsultModal] = useState(false);\r\n  const [selectedAppointmentForReconsult, setSelectedAppointmentForReconsult] = useState(null);\r\n  const [activeSection, setActiveSection] = useState('profile');\r\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\r\n  const [profile, setProfile] = useState({ userId: '', fullName: '', emailId: '', phoneNumber: '', rawPassword: '' });\r\n  const [appointments, setAppointments] = useState([]);\r\n  const [prescriptions, setPrescriptions] = useState([]);\r\n  const [newAppointment, setNewAppointment] = useState({ \r\n    specialization: '', \r\n    symptoms: [], \r\n    additionalSymptoms: '', \r\n    preferredDate: '' \r\n  });\r\n  const [appointmentStats, setAppointmentStats] = useState({ upcoming: 0, pending: 0, completed: 0, cancelled: 0 });\r\n  const [filters, setFilters] = useState({ appointments: 'all', prescriptions: 'all', dateRange: '' });\r\n  const [search, setSearch] = useState('');\r\n  const [selectedAppointment, setSelectedAppointment] = useState(null);\r\n  const [selectedPrescription, setSelectedPrescription] = useState(null);\r\n  const [rescheduleModal, setRescheduleModal] = useState(false);\r\n  const [newDateTime, setNewDateTime] = useState('');\r\n  const [refillModal, setRefillModal] = useState(false);\r\n  const [followUpModal, setFollowUpModal] = useState(false);\r\n  const [preferredDate, setPreferredDate] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [clickedButtons, setClickedButtons] = useState({});  // Added: State to track clicked buttons\r\n\r\n  const symptomOptions = [\r\n    'FEVER', 'COUGH', 'HEADACHE', 'CHEST_PAIN', 'NAUSEA', 'SHORTNESS_OF_BREATH', 'FATIGUE', 'OTHER'\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [profileRes, appointmentsRes, prescriptionsRes] = await Promise.all([\r\n        patientAPI.getProfile().catch(() => ({ data: {} })),\r\n        patientAPI.getAppointments(),\r\n        prescriptionAPI.getPrescriptions().catch(() => ({ data: [] }))\r\n      ]);\r\n      setProfile({\r\n        userId: profileRes.data?.user?.userId || '',\r\n        fullName: profileRes.data?.user?.fullName || '',\r\n        emailId: profileRes.data?.user?.emailId || '',\r\n        phoneNumber: profileRes.data?.user?.phoneNumber || '',\r\n        rawPassword: ''\r\n      });\r\n      setAppointments(appointmentsRes.data || []);\r\n      setPrescriptions(prescriptionsRes.data || []);\r\n      calculateStats(appointmentsRes.data || []);\r\n      console.log('Fetched appointments:', appointmentsRes.data);\r\n      console.log('Fetched prescriptions:', prescriptionsRes.data);\r\n    } catch (err) {\r\n      console.error('Fetch error:', err);\r\n      alert('Error fetching data: ' + (err.response?.data?.message || err.message));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateStats = (apps) => {\r\n    const now = new Date();\r\n    const upcoming = apps.filter(a => new Date(a.scheduledDateTime) > now && a.status === 'CONFIRMED').length;\r\n    const pending = apps.filter(a => a.status === 'PENDING').length;\r\n    const completed = apps.filter(a => a.status === 'COMPLETED').length;\r\n    const cancelled = apps.filter(a => a.status === 'CANCELLED').length;\r\n    setAppointmentStats({ upcoming, pending, completed, cancelled });\r\n  };\r\n\r\n  const updateProfile = async () => {\r\n    console.log('Update Profile button clicked');\r\n    try {\r\n      const payload = {\r\n        fullName: profile.fullName || null,\r\n        emailId: profile.emailId || null,\r\n        phoneNumber: profile.phoneNumber || null,\r\n        rawPassword: profile.rawPassword || null\r\n      };\r\n      await patientAPI.updateProfile(payload);\r\n      alert('Profile updated successfully!');\r\n      fetchData();\r\n    } catch (err) {\r\n      console.error('Profile update error:', err);\r\n      alert('Error updating profile: ' + (err.response?.data?.message || err.message));\r\n    }\r\n  };\r\n\r\n  // const createReconsult = async (originalAppointmentId) => {\r\n  //   try {\r\n  //     await appointmentAPI.createReconsult(originalAppointmentId);\r\n  //     alert('Reconsult scheduled successfully!');\r\n  //     fetchData();\r\n  //     setReconsultModal(false);\r\n  //   } catch (err) {\r\n  //     alert('Error scheduling reconsult: ' + (err.response?.data?.message || err.message));\r\n  //   }\r\n  // };\r\n  const createReconsult = async (originalAppointmentId) => {\r\n    console.log('Creating reconsult for appointment ID:', originalAppointmentId);\r\n    try {\r\n      await appointmentAPI.createReconsult(originalAppointmentId);\r\n      alert('Reconsult scheduled successfully!');\r\n      fetchData();\r\n      setReconsultModal(false);\r\n    } catch (err) {\r\n      console.error('Reconsult error details:', err.response?.data);  // Added for debugging\r\n      alert('Error scheduling reconsult: ' + (err.response?.data?.message || err.message));\r\n    }\r\n  };\r\n\r\n  const initiatePayment = async () => {\r\n    console.log('Pay Now button clicked');\r\n    try {\r\n      const paymentPayload = {\r\n        specialization: newAppointment.specialization,\r\n        symptoms: newAppointment.symptoms.join(','),\r\n        additionalSymptoms: newAppointment.additionalSymptoms,\r\n        preferredDate: new Date(newAppointment.preferredDate).toISOString().split('T')[0]\r\n      };\r\n      const response = await paymentAPI.initiate(paymentPayload);\r\n      const { orderId, amount, currency, patientId } = response.data;\r\n      const options = {\r\n        key: 'rzp_test_RVcBsWaU6E63ug',\r\n        amount: amount,\r\n        currency: currency,\r\n        order_id: orderId,\r\n        name: 'MediCare Appointment',\r\n        description: 'Appointment Booking',\r\n        handler: async (response) => {\r\n          const confirmPayload = {\r\n            orderId: response.razorpay_order_id,\r\n            paymentId: response.razorpay_payment_id,\r\n            signature: response.razorpay_signature,\r\n            method: 'CARD',\r\n            specialization: newAppointment.specialization,\r\n            symptoms: newAppointment.symptoms,\r\n            additionalSymptoms: newAppointment.additionalSymptoms,\r\n            preferredDate: newAppointment.preferredDate\r\n          };\r\n          try {\r\n            await appointmentAPI.confirmAfterPayment(confirmPayload);\r\n            alert('Appointment booked successfully after payment!');\r\n            setNewAppointment({ specialization: '', symptoms: [], additionalSymptoms: '', preferredDate: '' });\r\n            fetchData();\r\n          } catch (err) {\r\n            console.error('Confirmation error:', err);\r\n            alert('Payment successful, but appointment confirmation failed: ' + (err.response?.data?.message || err.message));\r\n          }\r\n        },\r\n        prefill: {\r\n          name: profile.fullName,\r\n          email: profile.emailId,\r\n          contact: profile.phoneNumber\r\n        },\r\n        theme: {\r\n          color: '#3399cc'\r\n        }\r\n      };\r\n      const rzp = new window.Razorpay(options);\r\n      rzp.open();\r\n    } catch (err) {\r\n      console.error('Payment initiation error:', err);\r\n      alert('Oops, something went wrong. Payment failed: ' + (err.response?.data?.message || err.message));\r\n    }\r\n  };\r\n\r\n  const cancelAppointment = async (id) => {\r\n    if (window.confirm('Are you sure you want to cancel this appointment?')) {\r\n      try {\r\n        await appointmentAPI.cancel(id);\r\n        alert('Appointment cancelled successfully!');\r\n        fetchData();\r\n      } catch (err) {\r\n        alert('Error cancelling appointment: ' + (err.response?.data?.message || err.message));\r\n      }\r\n    }\r\n  };\r\n\r\n  const rescheduleAppointment = async () => {\r\n    try {\r\n      await appointmentAPI.reschedule(selectedAppointment.appointmentId, { newRequestedDateTime: newDateTime });\r\n      alert('Appointment rescheduled successfully!');\r\n      setRescheduleModal(false);\r\n      fetchData();\r\n    } catch (err) {\r\n      alert('Error rescheduling appointment: ' + (err.response?.data?.message || err.message));\r\n    }\r\n  };\r\n\r\n  const downloadPdf = async (prescriptionId) => {\r\n    console.log('Download PDF button clicked for prescription ID:', prescriptionId);\r\n    try {\r\n      const response = await prescriptionAPI.downloadPdf(prescriptionId);\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', `prescription_${prescriptionId}.pdf`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    } catch (err) {\r\n      console.error('Download PDF error:', err);\r\n      alert('Error downloading PDF: ' + (err.response?.data?.message || err.message));\r\n    }\r\n  };\r\n\r\n  const printPrescription = (prescription) => {\r\n    console.log('Print button clicked, prescription data:', prescription);  // Added: Log to check if advice is null in frontend\r\n    const printWindow = window.open('', '_blank');\r\n    printWindow.document.write(`\r\n      <html>\r\n        <head><title>Prescription</title></head>\r\n        <body>\r\n          <h1>Prescription Details</h1>\r\n          <p><strong>Patient:</strong> ${profile.fullName}</p>\r\n          <p><strong>Diagnosis:</strong> ${prescription.diagnosis}</p>\r\n          <p><strong>Medications:</strong></p>\r\n          <ul>\r\n            ${prescription.medicines?.map(med => `<li>${med.name} - ${med.dosage} - ${med.frequency} - ${med.duration} days</li>`).join('')}\r\n          </ul>\r\n          <p><strong>Advice:</strong> ${prescription.advice || 'No advice provided'}</p>\r\n        </body>\r\n      </html>\r\n    `);\r\n    printWindow.document.close();\r\n    printWindow.print();\r\n  };\r\n\r\n  const requestRefill = async (prescriptionId) => {\r\n    console.log('Request Refill button clicked for prescription ID:', prescriptionId);\r\n    try {\r\n      await prescriptionAPI.requestRefill(prescriptionId);\r\n      alert('Refill requested successfully!');\r\n    } catch (err) {\r\n      console.error('Request Refill error:', err);\r\n      alert('Error requesting refill: ' + (err.response?.data?.message || err.message));\r\n    }\r\n  };\r\n\r\n  const bookFollowUp = async (prescriptionId) => {\r\n    console.log('Book Follow-up Confirm button clicked for prescription ID:', prescriptionId);\r\n    try {\r\n      await prescriptionAPI.bookFollowUp(prescriptionId, { preferredDate });\r\n      alert('Follow-up booked successfully!');\r\n      setFollowUpModal(false);\r\n      setPreferredDate('');\r\n      fetchData();\r\n    } catch (err) {\r\n      console.error('Book Follow-up error:', err);\r\n      alert('Error booking follow-up: ' + (err.response?.data?.message || err.message));\r\n    }\r\n  };\r\n\r\n  const filteredAppointments = appointments.filter(a => {\r\n    const matchesStatus = filters.appointments === 'all' || a.status.toLowerCase() === filters.appointments;\r\n    const matchesSearch = a.doctor?.fullName?.toLowerCase().includes(search.toLowerCase()) || a.specialization?.toLowerCase().includes(search.toLowerCase());\r\n    return matchesStatus && matchesSearch;\r\n  });\r\n\r\n  const filteredPrescriptions = prescriptions.filter(p => {\r\n    const matchesStatus = filters.prescriptions === 'all' || (p.status || 'ACTIVE').toLowerCase() === filters.prescriptions;\r\n    const matchesSearch = p.doctor?.fullName?.toLowerCase().includes(search.toLowerCase()) || (p.specialization || '').toLowerCase().includes(search.toLowerCase());\r\n    return matchesStatus && matchesSearch;\r\n  });\r\n\r\n  console.log('Filtered prescriptions:', filteredPrescriptions);  // Added: Debug filtered data\r\n\r\n  const tableStyle = { width: '100%', borderCollapse: 'collapse', marginTop: '1rem', fontSize: '0.9rem' };\r\n  const thStyle = { border: '1px solid #ddd', padding: '12px', backgroundColor: '#f2f2f2', textAlign: 'left' };\r\n  const tdStyle = { border: '1px solid #ddd', padding: '12px' };\r\n  const buttonStyle = { padding: '6px 12px', margin: '2px', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '0.8rem' };\r\n\r\n  const getSidebarButtonStyle = (isActive) => ({\r\n    \r\n    background: 'none',\r\n    border: 'none',\r\n    color: 'black',\r\n    cursor: 'pointer',\r\n    fontWeight: isActive ? 'bold' : 'normal'\r\n  });\r\n\r\n  const getActionButtonStyle = (buttonKey) => ({\r\n    ...buttonStyle,\r\n    background: clickedButtons[buttonKey] ? 'lightgreen' : 'green',\r\n    color: 'black'\r\n  });\r\n\r\n  return (\r\n    <div style={{ display: 'flex', fontFamily: 'Poppins, sans-serif', background: '#f4f8fb', minHeight: '100vh' }}>\r\n      <div style={{ width: sidebarCollapsed ? '0' : '250px', background: 'white', color: 'black', padding: '1rem', transition: 'width 0.3s', overflow: 'hidden' }}>\r\n        <button onClick={() => { console.log('Sidebar toggle clicked'); setSidebarCollapsed(!sidebarCollapsed); }} style={{ background: 'none', border: 'none', color: 'black', fontSize: '1.5rem', cursor: 'pointer' }}>\r\n          ☰\r\n        </button>\r\n        <h2>Patient Menu</h2>\r\n        <ul style={{ listStyle: 'none', padding: 0 }}>\r\n          <li><button onClick={() => { console.log('Profile section clicked'); setActiveSection('profile'); }} style={getSidebarButtonStyle(activeSection === 'profile')}>Update Profile</button></li>\r\n          <li><button onClick={() => { console.log('Book Appointment section clicked'); setActiveSection('bookAppointment'); }} style={getSidebarButtonStyle(activeSection === 'bookAppointment')}>Book Appointment</button></li>\r\n          <li><button onClick={() => { console.log('Appointments section clicked'); setActiveSection('appointments'); }} style={getSidebarButtonStyle(activeSection === 'appointments')}>Your Appointments</button></li>\r\n          <li><button onClick={() => { console.log('Prescriptions section clicked'); setActiveSection('prescriptions'); }} style={getSidebarButtonStyle(activeSection === 'prescriptions')}>Your Prescriptions</button></li>\r\n        </ul>\r\n      </div>\r\n      <div style={{ flex: 1, padding: '2rem', display: 'flex', flexDirection: 'column' }}>\r\n        {loading && <p>Loading...</p>}\r\n        <div style={{ display: activeSection === 'profile' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1 }}>\r\n          <div style={{ flex: 1 }}>\r\n            <h3>Update Profile</h3>\r\n            <form onSubmit={(e) => { e.preventDefault(); updateProfile(); }}>\r\n              <input type=\"text\" placeholder=\"Full Name\" value={profile.fullName || ''} onChange={(e) => setProfile({ ...profile, fullName: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n              <input type=\"email\" placeholder=\"Email\" value={profile.emailId || ''} onChange={(e) => setProfile({ ...profile, emailId: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n              <input type=\"text\" placeholder=\"Phone\" value={profile.phoneNumber || ''} onChange={(e) => setProfile({ ...profile, phoneNumber: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n              <input type=\"password\" placeholder=\"Password\" value={profile.rawPassword || ''} onChange={(e) => setProfile({ ...profile, rawPassword: e.target.value })} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n              <button type=\"submit\" style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Update Profile</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <div style={{ display: activeSection === 'bookAppointment' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1 }}>\r\n          <div style={{ flex: 1 }}>\r\n            <h3>Book Appointment</h3>\r\n            <form onSubmit={(e) => { e.preventDefault(); initiatePayment(); }}>\r\n              <select value={newAppointment.specialization} onChange={(e) => setNewAppointment({ ...newAppointment, specialization: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }}>\r\n                <option value=\"\">Select Specialization</option>\r\n                <option value=\"CARDIOLOGIST\">Cardiologist</option>\r\n                <option value=\"ORTHOPEDIC\">Orthopedic</option>\r\n                <option value=\"DENTIST\">Dentist</option>\r\n                <option value=\"GYNAECOLOGIST\">Gynaecologist</option>\r\n                <option value=\"NEUROLOGIST\">Neurologist</option>\r\n                <option value=\"GASTROENTEROLOGIST\">Gastroenterologist</option>\r\n                <option value=\"PEDIATRICS\">Pediatrics</option>\r\n                <option value=\"RADIOLOGY\">Radiology</option>\r\n                <option value=\"GENERAL_PHYSICIAN\">General Physician</option>\r\n                <option value=\"OTOLARYNGOLOGIST_ENT\">Otolaryngologist ENT</option>\r\n                <option value=\"ENDOCRINOLOGIST\">Endocrinologist</option>\r\n                <option value=\"ONCOLOGY\">Oncology</option>\r\n              </select>\r\n              <label>Symptoms (Select one or more):</label>\r\n              <div style={{ display: 'flex', flexWrap: 'wrap', margin: '10px 0' }}>\r\n                {symptomOptions.map(symptom => (\r\n                  <label key={symptom} style={{ margin: '5px', display: 'flex', alignItems: 'center' }}>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      value={symptom}\r\n                      checked={newAppointment.symptoms.includes(symptom)}\r\n                      onChange={(e) => {\r\n                        const { value, checked } = e.target;\r\n                                                setNewAppointment(prev => ({\r\n                          ...prev,\r\n                          symptoms: checked ? [...prev.symptoms, value] : prev.symptoms.filter(s => s !== value)\r\n                        }));\r\n                      }}\r\n                    />\r\n                    {symptom.replace('_', ' ')}\r\n                  </label>\r\n                ))}\r\n              </div>\r\n              <input type=\"text\" placeholder=\"Additional Symptoms\" value={newAppointment.additionalSymptoms} onChange={(e) => setNewAppointment({ ...newAppointment, additionalSymptoms: e.target.value })} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n              <input type=\"datetime-local\" value={newAppointment.preferredDate} onChange={(e) => setNewAppointment({ ...newAppointment, preferredDate: e.target.value })} required style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n              <button type=\"submit\" style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Pay Now (₹500)</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <div style={{ display: activeSection === 'appointments' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1, flexDirection: 'column' }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-around', marginBottom: '2rem' }}>\r\n            <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>🗓️ Upcoming: {appointmentStats.upcoming}</div>\r\n            <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>⏳ Pending: {appointmentStats.pending}</div>\r\n            <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>✅ Completed: {appointmentStats.completed}</div>\r\n            <div style={{ textAlign: 'center', padding: '1rem', background: '#e9ecef', borderRadius: '8px' }}>❌ Cancelled: {appointmentStats.cancelled}</div>\r\n          </div>\r\n          <div style={{ display: 'flex', marginBottom: '1rem' }}>\r\n            <input type=\"text\" placeholder=\"Search by doctor or department\" value={search} onChange={(e) => setSearch(e.target.value)} style={{ flex: 1, padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n            <select value={filters.appointments} onChange={(e) => setFilters({ ...filters, appointments: e.target.value })} style={{ marginLeft: '1rem', padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }}>\r\n              <option value=\"all\">All Status</option>\r\n              <option value=\"pending\">Pending</option>\r\n              <option value=\"confirmed\">Confirmed</option>\r\n              <option value=\"completed\">Completed</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n            </select>\r\n          </div>\r\n          <table style={tableStyle}>\r\n            <thead>\r\n              <tr>\r\n                <th style={thStyle}>Appointment ID</th>\r\n                <th style={thStyle}>Specialization</th>\r\n                <th style={thStyle}>Date & Time</th>\r\n                <th style={thStyle}>Status</th>\r\n                <th style={thStyle}>Booking Date</th>\r\n                <th style={thStyle}>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredAppointments.map((a, index) => (\r\n                <tr key={a.appointmentId} style={index % 2 === 0 ? {} : { backgroundColor: '#f9f9f9' }}>\r\n                  <td style={tdStyle}>{a.appointmentId}</td>\r\n                  <td style={tdStyle}>{a.specialization || 'N/A'}</td>\r\n                  <td style={tdStyle}>{a.scheduledDateTime || a.preferredDate || 'N/A'}</td>\r\n                  <td style={tdStyle}>\r\n                    <span style={{\r\n                      color: a.status === 'CONFIRMED' ? 'green' : a.status === 'PENDING' ? 'orange' : a.status === 'COMPLETED' ? 'blue' : 'red',\r\n                      fontWeight: 'bold'\r\n                    }}>\r\n                      {a.status}\r\n                    </span>\r\n                  </td>\r\n                  <td style={tdStyle}>{a.createdAt}</td>\r\n                  <td style={tdStyle}>\r\n                    {a.status === 'CANCELLED' && (\r\n                      <button style={{ ...getActionButtonStyle(`view-${a.appointmentId}`), background: '#17a2b8', color: 'white' }} onClick={() => { console.log('View Details clicked'); setSelectedAppointment(a); setClickedButtons(prev => ({ ...prev, [`view-${a.appointmentId}`]: true })); }}>View Details</button>\r\n                    )}\r\n                    {a.status === 'COMPLETED' && (\r\n                      <>\r\n                        <button style={{ ...getActionButtonStyle(`view-${a.appointmentId}`), background: '#17a2b8', color: 'white' }} onClick={() => { console.log('View Details clicked'); setSelectedAppointment(a); setClickedButtons(prev => ({ ...prev, [`view-${a.appointmentId}`]: true })); }}>View Details</button>\r\n                        <button style={getActionButtonStyle(`reconsult-${a.appointmentId}`)} onClick={() => { setSelectedAppointmentForReconsult(a); setReconsultModal(true); setClickedButtons(prev => ({ ...prev, [`reconsult-${a.appointmentId}`]: true })); }}>Schedule Reconsult</button>\r\n                      </>\r\n                    )}\r\n                    {a.status === 'CONFIRMED' && (\r\n                      <button style={{ ...getActionButtonStyle(`view-${a.appointmentId}`), background: '#17a2b8', color: 'white' }} onClick={() => { console.log('View Details clicked'); setSelectedAppointment(a); setClickedButtons(prev => ({ ...prev, [`view-${a.appointmentId}`]: true })); }}>View Details</button>\r\n                    )}\r\n                    {a.status === 'PENDING' && (\r\n                      <>\r\n                        <button style={{ ...getActionButtonStyle(`view-${a.appointmentId}`), background: '#17a2b8', color: 'white' }} onClick={() => { console.log('View Details clicked'); setSelectedAppointment(a); setClickedButtons(prev => ({ ...prev, [`view-${a.appointmentId}`]: true })); }}>View Details</button>\r\n                        <button style={getActionButtonStyle(`cancel-${a.appointmentId}`)} onClick={() => { cancelAppointment(a.appointmentId); setClickedButtons(prev => ({ ...prev, [`cancel-${a.appointmentId}`]: true })); }}>Cancel</button>\r\n                      </>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          {selectedAppointment && (\r\n  <div style={{ marginTop: '2rem', padding: '1rem', background: '#f8f9fa', borderRadius: '8px' }}>\r\n    <h4>Appointment Details</h4>\r\n    <p><strong>Appointment ID:</strong> {selectedAppointment.appointmentId}</p>\r\n    {/* <p><strong>Doctor:</strong> {selectedAppointment.doctor?.fullName || selectedAppointment.doctorName || (selectedAppointment.status === 'PENDING' ? 'Not Assigned (Pending Approval)' : 'Not Assigned')}</p> */}\r\n    <p><strong>Specialization:</strong> {selectedAppointment.specialization}</p>\r\n    <p><strong>Status:</strong> {selectedAppointment.status}</p>\r\n    <p><strong>Scheduled Date/Time:</strong> {selectedAppointment.scheduledDateTime}</p>\r\n    <p><strong>Symptoms:</strong> {selectedAppointment.symptoms}</p>\r\n    <p><strong>Additional Symptoms:</strong> {selectedAppointment.additionalSymptoms}</p>\r\n    <p><strong>Preferred Date:</strong> {selectedAppointment.preferredDate}</p>\r\n    <p><strong>Fee:</strong> ₹{selectedAppointment.fee}</p>\r\n    <p><strong>Meeting Link:</strong> <a href={selectedAppointment.meetingLink} target=\"_blank\" rel=\"noopener noreferrer\">{selectedAppointment.meetingLink}</a></p>\r\n  </div>\r\n)}\r\n\r\n          {/* {selectedAppointment && (\r\n            <div style={{ marginTop: '2rem', padding: '1rem', background: '#f8f9fa', borderRadius: '8px' }}>\r\n              <h4>Appointment Details</h4>\r\n              <p><strong>Appointment ID:</strong> {selectedAppointment.appointmentId}</p>\r\n              <p><strong>Doctor:</strong> {selectedAppointment.doctor?.fullName}</p>\r\n              <p><strong>Specialization:</strong> {selectedAppointment.specialization}</p>\r\n              <p><strong>Status:</strong> {selectedAppointment.status}</p>\r\n              <p><strong>Scheduled Date/Time:</strong> {selectedAppointment.scheduledDateTime}</p>\r\n              <p><strong>Symptoms:</strong> {selectedAppointment.symptoms}</p>\r\n              <p><strong>Additional Symptoms:</strong> {selectedAppointment.additionalSymptoms}</p>\r\n              <p><strong>Preferred Date:</strong> {selectedAppointment.preferredDate}</p>\r\n              <p><strong>Fee:</strong> ₹{selectedAppointment.fee}</p>\r\n              <p><strong>Meeting Link:</strong> <a href={selectedAppointment.meetingLink} target=\"_blank\" rel=\"noopener noreferrer\">{selectedAppointment.meetingLink}</a></p>\r\n            </div>\r\n          )} */}\r\n        </div>\r\n        <div style={{ display: activeSection === 'prescriptions' ? 'flex' : 'none', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 2px 6px rgba(0,0,0,0.1)', flex: 1, flexDirection: 'column' }}>\r\n          <div style={{ display: 'flex', marginBottom: '1rem' }}>\r\n            <input type=\"text\" placeholder=\"Search by doctor or department\" value={search} onChange={(e) => setSearch(e.target.value)} style={{ flex: 1, padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n            <select value={filters.prescriptions} onChange={(e) => setFilters({ ...filters, prescriptions: e.target.value })} style={{ marginLeft: '1rem', padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }}>\r\n              <option value=\"all\">All Status</option>\r\n              <option value=\"active\">Active</option>\r\n              <option value=\"expired\">Expired</option>\r\n            </select>\r\n            <button onClick={fetchData} style={{ ...buttonStyle, background: '#28a745', color: 'white', marginLeft: '1rem' }}>Refresh</button>\r\n          </div>\r\n          <table style={tableStyle}>\r\n            <thead>\r\n              <tr>\r\n                <th style={thStyle}>Prescription ID</th>\r\n                <th style={thStyle}>Prescription Date</th>\r\n                <th style={thStyle}>Status</th>\r\n                <th style={thStyle}>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {(() => {\r\n                console.log('Filtered prescriptions data:', filteredPrescriptions);\r\n                return filteredPrescriptions.length > 0 ? filteredPrescriptions.map((p, index) => (\r\n                  <tr key={p.prescriptionId} style={index % 2 === 0 ? {} : { backgroundColor: '#f9f9f9' }}>\r\n                    <td style={tdStyle}>{p.prescriptionId}</td>\r\n                    <td style={tdStyle}>{p.issuedAt}</td>\r\n                    <td style={tdStyle}>\r\n                      <span style={{ color: (p.status || 'ACTIVE') === 'ACTIVE' ? 'green' : 'red', fontWeight: 'bold' }}>\r\n                        {p.status || 'ACTIVE'}\r\n                      </span>\r\n                    </td>\r\n                    <td style={tdStyle}>\r\n                      <button style={{ ...getActionButtonStyle(`view-${p.prescriptionId}`), background: '#17a2b8', color: 'white' }} onClick={() => { console.log('View Prescription clicked'); setSelectedPrescription(p); setClickedButtons(prev => ({ ...prev, [`view-${p.prescriptionId}`]: true })); }}>View</button>\r\n                      <button style={getActionButtonStyle(`download-${p.prescriptionId}`)} onClick={() => { downloadPdf(p.prescriptionId); setClickedButtons(prev => ({ ...prev, [`download-${p.prescriptionId}`]: true })); }}>Download PDF</button>\r\n                      <button style={getActionButtonStyle(`print-${p.prescriptionId}`)} onClick={() => { printPrescription(p); setClickedButtons(prev => ({ ...prev, [`print-${p.prescriptionId}`]: true })); }}>Print</button>\r\n                    </td>\r\n                  </tr>\r\n                )) : (\r\n                  <tr>\r\n                    <td colSpan=\"4\" style={{ textAlign: 'center', padding: '20px' }}>No prescriptions found. Try refreshing or check if prescriptions have been added.</td>\r\n                  </tr>\r\n                );\r\n              })()}\r\n            </tbody>\r\n          </table>\r\n          {selectedPrescription && (\r\n            <div style={{ marginTop: '2rem', padding: '1rem', background: '#f8f9fa', borderRadius: '8px' }}>\r\n              <h4>Prescription Details</h4>\r\n              <p><strong>Patient:</strong> {profile.fullName} (ID: {profile.userId})</p>\r\n              <p><strong>Diagnosis:</strong> {selectedPrescription.diagnosis}</p>\r\n              <p><strong>Medications:</strong></p>\r\n              <ul>\r\n                {selectedPrescription.medicines?.length > 0 ? selectedPrescription.medicines.map((med, idx) => (\r\n                  <li key={idx}>{med.name} - {med.dosage} - {med.frequency} - {med.duration} days - Notes: {med.notes}</li>\r\n                )) : <li>No medications listed.</li>}\r\n              </ul>\r\n              <p><strong>Advice:</strong> {selectedPrescription.advice}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {reconsultModal && (\r\n          <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', zIndex: 1000 }}>\r\n            <h3>Schedule Reconsult</h3>\r\n            <p>Appointment ID: {selectedAppointmentForReconsult?.appointmentId}</p>\r\n            <p>Doctor: {selectedAppointmentForReconsult?.doctor?.fullName}</p>\r\n            <p>This will create a new reconsult request for this completed appointment.</p>\r\n            <button onClick={() => createReconsult(selectedAppointmentForReconsult.appointmentId)} style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Confirm</button>\r\n            <button onClick={() => setReconsultModal(false)} style={{ ...buttonStyle, background: '#ccc', color: 'black' }}>Cancel</button>\r\n          </div>\r\n        )}\r\n        {rescheduleModal && (\r\n          <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', zIndex: 1000 }}>\r\n            <h3>Reschedule Appointment</h3>\r\n            <p>Doctor: {selectedAppointment?.doctor?.fullName}</p>\r\n            <p>Current Date/Time: {selectedAppointment?.scheduledDateTime}</p>\r\n            <input type=\"datetime-local\" value={newDateTime} onChange={(e) => setNewDateTime(e.target.value)} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n            <button onClick={rescheduleAppointment} style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Confirm</button>\r\n            <button onClick={() => { console.log('Reschedule Cancel clicked'); setRescheduleModal(false); }} style={{ ...buttonStyle, background: '#ccc', color: 'black' }}>Cancel</button>\r\n          </div>\r\n        )}\r\n        {followUpModal && (\r\n          <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', background: 'white', padding: '2rem', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', zIndex: 1000 }}>\r\n            <h3>Book Follow-up</h3>\r\n            <p>Prescription ID: {selectedPrescription?.prescriptionId}</p>\r\n            <input type=\"datetime-local\" value={preferredDate} onChange={(e) => setPreferredDate(e.target.value)} style={{ width: '100%', padding: '10px', margin: '10px 0', border: '1px solid #ccc', borderRadius: '4px' }} />\r\n            <button onClick={() => bookFollowUp(selectedPrescription.prescriptionId)} style={{ ...buttonStyle, background: '#007bff', color: 'white' }}>Confirm</button>\r\n            <button onClick={() => { console.log('Follow-up Cancel clicked'); setFollowUpModal(false); }} style={{ ...buttonStyle, background: '#ccc', color: 'black' }}>Cancel</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientDashboard;\r\n"],"mappings":";;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}